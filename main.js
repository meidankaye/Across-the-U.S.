!function(){"use strict";document.querySelector(".places");const e=document.querySelector("#place-template"),t=document.querySelector(".popup_type_edit").querySelector(".popup__form"),s=document.querySelector(".popup_type_add").querySelector(".popup__form"),r=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),n=document.querySelector(".profile__image-overlay"),o=document.querySelector(".popup__input_type_name"),a=document.querySelector(".popup__input_type_profession"),c={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var h=class{constructor(e,t){u(this,"_showInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)})),u(this,"_hideInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)})),u(this,"_hasOnlyValidInputs",(()=>this._inputList.every((e=>e.validity.valid)))),u(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),u(this,"_setEventListeners",(()=>{this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector),this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),u(this,"_toggleButton",(()=>{this._hasOnlyValidInputs()?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)})),u(this,"resetFormValidation",(()=>{this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()})),u(this,"enableValidation",(()=>{this._setEventListeners()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}},_=class{constructor(e){var t,s;s=e=>{e.preventDefault(),"Escape"===e.key&&this.close()},(t="_handleEscUp")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=document.querySelector(e),this._handleEscUp=this._handleEscUp.bind(this),this.close=this.close.bind(this)}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",this.close),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("popup")&&this.close()}))}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscUp)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscUp)}},d=class extends _{constructor(e,t,s){super(e),this._popupForm=this._popupElement.querySelector(".popup__form"),this._button=this._popupForm.querySelector(".popup__button"),this._inputList=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._buttonText=s,this._handleSubmit=t}getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}close(){this._popupForm.reset(),super.close()}showLoading(){this._button.textContent="Saving..."}hideLoading(){this._button.textContent=this._buttonText}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(this.getInputValues()),this.close()})),super.setEventListeners()}};let p;const m=new class{constructor(e){let{nameSelector:t,professionSelector:s,imageSelector:r}=e;this._userName=document.querySelector(t),this._userProfession=document.querySelector(s),this._userImage=document.querySelector(r)}getUserInfo(){return{name:this._userName.textContent,profession:this._userProfession.textContent}}setUserInfo(e){this._userName.textContent=e.name,this._userProfession.textContent=e.about}setUserImage(e){this._userImage.style.backgroundImage='url("'.concat(e,'")')}}({nameSelector:".profile__name",professionSelector:".profile__profession",imageSelector:".profile__image"}),E=new class{constructor(e){let{baseUrl:t,headers:s}=e;var r,i;i=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))),(r="_customFetch")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,this._baseUrl=t,this._headers=s}getInitialCards(){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}getUserInfo(){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}updateUserImage(e){return this._customFetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}updateProfile(e){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.profession})})}addCard(e){let{name:t,link:s}=e;return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:s})})}removeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}likeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}dislikeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"439544b2-326e-4000-bd7d-7d8ec93af705","Content-Type":"application/json"}});function b(t){const s=new class{constructor(e,t,s){let{data:r,handleCardClick:i,handleDeleteCard:n,handleLikeButton:o}=e;l(this,"updateLikes",(e=>{this._likes=e,this._renderLikes(),this._cardElement.querySelector(".place__button").classList.toggle("place__button_active")})),l(this,"removeCard",(()=>this._cardElement.remove())),l(this,"_renderLikes",(()=>{this._cardElement.querySelector(".place__like-count").textContent=this._likes.length})),l(this,"_setEventListeners",(()=>{this._cardElement.querySelector(".place__image").addEventListener("click",(()=>this._handleCardClick(this._name,this._link))),this._cardElement.querySelector(".place__button").addEventListener("click",(()=>this._handleLikeButton(this._id))),this._cardElement.querySelector(".place__trash").addEventListener("click",(()=>this._handleDeleteCard(this._id)))})),l(this,"_getTemplate",(()=>this._cardSelector.content.querySelector(".places__item").cloneNode(!0))),l(this,"getElement",(()=>(this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".place__image").style.backgroundImage="url(".concat(this._link,")"),this._cardElement.querySelector(".place__title").textContent=this._name,this._ownerId!==this._userId&&(this._cardElement.querySelector(".place__trash").style.display="none"),this._renderLikes(),this.isLiked()&&this.updateLikes(this._likes),this._cardElement))),this._name=r.name,this._link=r.link,this._id=r._id,this._likes=r.likes,this._handleCardClick=i,this._handleDeleteCard=n,this._handleLikeButton=o,this._cardSelector=t,this._userId=s,this._ownerId=r.owner._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}}({data:t,handleCardClick:g,handleLikeButton:e=>{s.isLiked()?E.dislikeCard(e).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log("Error.....: ".concat(e)))):E.likeCard(e).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log("Error.....: ".concat(e))))},handleDeleteCard:e=>{k.open(),k.setAction((()=>{k.showLoading(),E.removeCard(e).then((()=>{s.removeCard(),k.close()})).catch((e=>console.log("Error.....: ".concat(e)))).finally((()=>{k.hideLoading()}))}))}},e,p);return s.getElement()}function g(e,t){v.open(e,t)}Promise.all([E.getInitialCards(),E.getUserInfo()]).then((e=>{let[t,s]=e;p=s._id,y.render(t),m.setUserImage(s.avatar),m.setUserInfo({name:s.name,about:s.about})})).catch((e=>console.log("Error.....: ".concat(e))));const y=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){this._items=e,this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:e=>{y.addItem(b(e))}},".places"),v=new class extends _{open(e,t){this._title=this._popupElement.querySelector(".popup__image-name"),this._image=this._popupElement.querySelector(".popup__image-preview"),this._title.textContent=e,this._image.src=t,this._image.alt="Image of ".concat(e),super.open()}}(".popup_type_preview");v.setEventListeners();const f=new d(".popup_type_edit",(function(){const e=f.getInputValues(),t={name:e.name,profession:e.profession};E.updateProfile(t).then((e=>{m.setUserInfo(e)})).catch((e=>console.log("Error.....: ".concat(e)))),f.showLoading()}),"Save");f.setEventListeners();const L=new d(".popup_type_add",(function(){const e=L.getInputValues(),t={name:e.title,link:e.link};L.showLoading(),E.addCard(t).then((e=>{y.addItem(b(e))})).catch((e=>console.log("Error.....: ".concat(e)))).finally((()=>{L.hideLoading()}))}),"Create");L.setEventListeners();const S=new d(".popup_type_avatar",(function(e){E.updateUserImage(e.link).then((e=>{m.setUserImage(e.avatar)})).catch((e=>console.log("Error.....: ".concat(e)))),S.showLoading()}),"Save");S.setEventListeners();const k=new class extends _{constructor(e){super(e),this._button=this._popupElement.querySelector(".popup__button")}setAction(e){this._handleSubmit=e}showLoading(){this._button.textContent="Deleting..."}hideLoading(){this._button.textContent="Yes"}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()})),super.setEventListeners()}}(".popup_type_confirm");k.setEventListeners();const C=new h(c,t),I=new h(c,s);C.enableValidation(),I.enableValidation(),r.addEventListener("click",(()=>{const e=m.getUserInfo();f.open(),o.value=e.name,a.value=e.profession,C.resetFormValidation()})),i.addEventListener("click",(()=>{I.resetFormValidation(),L.open()})),n.addEventListener("click",(()=>{S.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxtQkFDbEJELEVBQWlCQyxtQkFJakIvTCxFQUFRd0MsaUJBQWlCLFNBQVMsS0FDOUIsTUFBTStDLEVBQU9WLEVBQVNPLGNBQ3RCa0csRUFBVTdILE9BQ1Z0RCxFQUFlb0UsTUFBUWdCLEVBQUtqQixLQUM1QmxFLEVBQXFCbUUsTUFBUWdCLEVBQUtGLFdBQ2xDdUcsRUFBa0JJLHlCQUl0Qi9MLEVBQU91QyxpQkFBaUIsU0FBUyxLQUM3QnNKLEVBQWlCRSxzQkFDakJSLEVBQVMvSCxVQUdidkQsRUFBVXNDLGlCQUFpQixTQUFTLEtBQ2hDa0osRUFBWWpJLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL3BhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG91cFdpdGhDb25maW1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcGxhY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNcIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYWNlLXRlbXBsYXRlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXRcIikucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkXCIpLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcblxyXG5leHBvcnQgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLW92ZXJsYXlcIik7XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdXBJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX25hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cElucHV0UHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfcHJvZmVzc2lvblwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiXHJcbn07IiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhc09ubHlWYWxpZElucHV0cyA9ICgpID0+IHRoaXMuX2lucHV0TGlzdC5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG5cclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgIGlmIChpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF90b2dnbGVCdXR0b24gPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9oYXNPbmx5VmFsaWRJbnB1dHMoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0Rm9ybVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXRFbCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjsiLCJjbGFzcyBQb3B1cCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjVXAgPSB0aGlzLl9oYW5kbGVFc2NVcC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY1VwID0gKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UpO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjVXApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NVcCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0LCBidXR0b25UZXh0KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG5cclxuICAgICAgICB0aGlzLl9idXR0b25UZXh0ID0gYnV0dG9uVGV4dDtcclxuXHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuXHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVMb2FkaW5nKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvblRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTsiLCIvLyBORUVEIFRPIFVQREFURS8vXHJcblxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHsgY2FyZFRlbXBsYXRlLCBlZGl0Rm9ybSwgYWRkRm9ybSwgZWRpdEJ0biwgYWRkQnRuLCBhdmF0YXJCdG4sIHBvcHVwSW5wdXROYW1lLCBwb3B1cElucHV0UHJvZmVzc2lvbiwgdmFsaWRhdGlvblNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvdXBXaXRoQ29uZmltYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gICAgcHJvZmVzc2lvblNlbGVjdG9yOiBcIi5wcm9maWxlX19wcm9mZXNzaW9uXCIsXHJcbiAgICBpbWFnZVNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiXHJcbn0pO1xyXG5cclxuLy8gQVBJXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiNDM5NTQ0YjItMzI2ZS00MDAwLWJkN2QtN2Q4ZWM5M2FmNzA1XCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICB9LFxyXG59KTtcclxuXHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm8oKV0pXHJcbiAgICAudGhlbigoW2NhcmRzLCB1c2VyRGF0YV0pID0+IHtcclxuICAgICAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICAgICAgc2VjdGlvbi5yZW5kZXIoY2FyZHMpO1xyXG5cclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW1hZ2UodXNlckRhdGEuYXZhdGFyKTtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIGFib3V0OiB1c2VyRGF0YS5hYm91dCB9KTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSk7XHJcblxyXG4vLyBGdW5jdGlvbnNcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHtcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgICBoYW5kbGVMaWtlQnV0dG9uOiAoaWQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNBbHJlYWR5bGlrZWQgPSBuZXdDYXJkLmlzTGlrZWQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc0FscmVhZHlsaWtlZCkge1xyXG4gICAgICAgICAgICAgICAgYXBpLmRpc2xpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVEZWxldGVDYXJkOiAoaWQpID0+IHtcclxuICAgICAgICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcclxuICAgICAgICAgICAgY29uZmlybVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGFwaS5yZW1vdmVDYXJkKGlkKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSlcclxuICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0sIGNhcmRUZW1wbGF0ZSwgdXNlcklkKVxyXG5cclxuICAgIHJldHVybiBuZXdDYXJkLmdldEVsZW1lbnQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrIChuYW1lLCBsaW5rKSB7XHJcbiAgICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZEZvcm1TdWJtaXQoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IGFkZFBvcHVwLmdldElucHV0VmFsdWVzKCk7XHJcbiAgICBjb25zdCBkYXRhID0geyBuYW1lOiBpbnB1dFZhbHVlcy50aXRsZSwgbGluazogaW5wdXRWYWx1ZXMubGluayB9O1xyXG4gICAgYWRkUG9wdXAuc2hvd0xvYWRpbmcoKTtcclxuICAgIGFwaS5hZGRDYXJkKGRhdGEpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBhZGRQb3B1cC5oaWRlTG9hZGluZygpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSBlZGl0UG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgIGNvbnN0IGRhdGEgPSB7IG5hbWU6IGlucHV0VmFsdWVzLm5hbWUsIHByb2Zlc3Npb246IGlucHV0VmFsdWVzLnByb2Zlc3Npb24gfTtcclxuICAgIGFwaS51cGRhdGVQcm9maWxlKGRhdGEpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKTtcclxuICAgIGVkaXRQb3B1cC5zaG93TG9hZGluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KHVzZXJEYXRhKSB7XHJcbiAgICBhcGkudXBkYXRlVXNlckltYWdlKHVzZXJEYXRhLmxpbmspLnRoZW4ocmVzID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW1hZ2UocmVzLmF2YXRhcik7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpO1xyXG4gICAgYXZhdGFyUG9wdXAuc2hvd0xvYWRpbmcoKTtcclxufVxyXG5cclxuLy8gQ2xhc3Nlc1xyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgcmVuZGVyZXI6IChjYXJkKSA9PiB7XHJcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xyXG4gICAgfVxyXG59LCBcIi5wbGFjZXNcIik7XHJcblxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfcHJldmlld1wiKTtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9lZGl0XCIsIGhhbmRsZUVkaXRGb3JtU3VibWl0LCBcIlNhdmVcIik7XHJcblxyXG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGRcIiwgaGFuZGxlQWRkRm9ybVN1Ym1pdCwgXCJDcmVhdGVcIik7XHJcblxyXG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2F2YXRhclwiLCBoYW5kbGVBdmF0YXJGb3JtU3VibWl0LCBcIlNhdmVcIik7XHJcblxyXG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY29uZmlybVBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIi5wb3B1cF90eXBlX2NvbmZpcm1cIik7XHJcblxyXG5jb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBlZGl0Rm9ybSk7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGFkZEZvcm0pO1xyXG5cclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vRXZlbnQgTGlzdGVuZXJzXHJcblxyXG5lZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKVxyXG4gICAgZWRpdFBvcHVwLm9wZW4oKTtcclxuICAgIHBvcHVwSW5wdXROYW1lLnZhbHVlID0gZGF0YS5uYW1lO1xyXG4gICAgcG9wdXBJbnB1dFByb2Zlc3Npb24udmFsdWUgPSBkYXRhLnByb2Zlc3Npb247XHJcbiAgICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldEZvcm1WYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuXHJcbmFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYWRkRm9ybVZhbGlkYXRvci5yZXNldEZvcm1WYWxpZGF0aW9uKCk7XHJcbiAgICBhZGRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pIiwiY2xhc3MgVXNlckluZm8ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBwcm9mZXNzaW9uU2VsZWN0b3IsIGltYWdlU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJQcm9mZXNzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9mZXNzaW9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW1hZ2VTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBwcm9mZXNzaW9uOiB0aGlzLl91c2VyUHJvZmVzc2lvbi50ZXh0Q29udGVudCBcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZVxyXG4gICAgICAgIHRoaXMuX3VzZXJQcm9mZXNzaW9uLnRleHRDb250ZW50ID0gZGF0YS5hYm91dFxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbWFnZSh1cmwpIHtcclxuICAgICAgICB0aGlzLl91c2VySW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcIiR7dXJsfVwiKWA7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbzsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jdXN0b21GZXRjaCA9ICh1cmwsIGhlYWRlcnMpID0+IHtcclxuICAgIHJldHVybiBmZXRjaCh1cmwsIGhlYWRlcnMpXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApXHJcbiAgICAgIClcclxuICAgICAgLy8gLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgLy8gICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApO1xyXG4gICAgICAvLyB9KTtcclxuICB9O1xyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVVc2VySW1hZ2UoZGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogZGF0YSB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZmlsZShkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgIGFib3V0OiBkYXRhLnByb2Zlc3Npb25cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgIGxpbmsgXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRpc2xpa2VDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0iLCJjbGFzcyBDYXJkIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCwgaGFuZGxlTGlrZUJ1dHRvbiB9LCBjYXJkU2VsZWN0b3IsIHVzZXJJZCkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuXHJcbiAgICAgICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIH1cclxuXHJcbiAgICBpc0xpa2VkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChwZXJzb24pID0+IHBlcnNvbi5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZUxpa2VzID0gKG5ld0xpa2VzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19idXR0b25cIikuY2xhc3NMaXN0LnRvZ2dsZShcInBsYWNlX19idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZW1vdmVDYXJkID0gKCkgPT4gdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcblxyXG4gICAgX3JlbmRlckxpa2VzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxpa2VzQ291bnRlciA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2xpa2UtY291bnRcIik7XHJcbiAgICAgICAgbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19pbWFnZVwiKVxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fYnV0dG9uXCIpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKHRoaXMuX2lkKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX3RyYXNoXCIpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2lkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkU2VsZWN0b3JcclxuICAgICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19faXRlbVwiKVxyXG4gICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9faW1hZ2VcIilcclxuICAgICAgICAuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3RoaXMuX2xpbmt9KWA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX3RyYXNoXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpa2VzKHRoaXMuX2xpa2VzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7IiwiY2xhc3MgU2VjdGlvbiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKGl0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuXHJcbiAgICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS1uYW1lXCIpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLXByZXZpZXdcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gYEltYWdlIG9mICR7bmFtZX1gXHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7IiwiLy8gTkVFRCBUTyBVUERBVEUvL1xyXG5cclxuaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZUxvYWRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJZZXNcIjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIoKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoQ29uZmlybWF0aW9uOyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJkVGVtcGxhdGUiLCJlZGl0Rm9ybSIsImFkZEZvcm0iLCJlZGl0QnRuIiwiYWRkQnRuIiwiYXZhdGFyQnRuIiwicG9wdXBJbnB1dE5hbWUiLCJwb3B1cElucHV0UHJvZmVzc2lvbiIsInZhbGlkYXRpb25TZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiY29uc3RydWN0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJfZm9ybSIsImlkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImNsYXNzTGlzdCIsImFkZCIsIl9lcnJvckNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsInJlbW92ZSIsIl9pbnB1dExpc3QiLCJldmVyeSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvbiIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNPbmx5VmFsaWRJbnB1dHMiLCJkaXNhYmxlZCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBTZWxlY3RvciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImtleSIsImNsb3NlIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NVcCIsImJpbmQiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwib3BlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cCIsImhhbmRsZVN1Ym1pdCIsImJ1dHRvblRleHQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfYnV0dG9uIiwiX2J1dHRvblRleHQiLCJfaGFuZGxlU3VibWl0IiwiZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwibmFtZSIsInZhbHVlIiwicmVzZXQiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwiX3N1Ym1pdEhhbmRsZXIiLCJ1c2VySWQiLCJ1c2VySW5mbyIsIm5hbWVTZWxlY3RvciIsInByb2Zlc3Npb25TZWxlY3RvciIsImltYWdlU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlclByb2Zlc3Npb24iLCJfdXNlckltYWdlIiwiZ2V0VXNlckluZm8iLCJwcm9mZXNzaW9uIiwic2V0VXNlckluZm8iLCJkYXRhIiwiYWJvdXQiLCJzZXRVc2VySW1hZ2UiLCJ1cmwiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJfY3VzdG9tRmV0Y2giLCJ1cGRhdGVVc2VySW1hZ2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsInVwZGF0ZVByb2ZpbGUiLCJhZGRDYXJkIiwibGluayIsInJlbW92ZUNhcmQiLCJjYXJkSUQiLCJsaWtlQ2FyZCIsImRpc2xpa2VDYXJkIiwiYXV0aG9yaXphdGlvbiIsImNyZWF0ZUNhcmQiLCJuZXdDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VCdXR0b24iLCJuZXdMaWtlcyIsIl9saWtlcyIsIl9yZW5kZXJMaWtlcyIsIl9jYXJkRWxlbWVudCIsInRvZ2dsZSIsImxlbmd0aCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfbmFtZSIsIl9saW5rIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaWQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9jYXJkU2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2dldFRlbXBsYXRlIiwiX293bmVySWQiLCJfdXNlcklkIiwiZGlzcGxheSIsImlzTGlrZWQiLCJ1cGRhdGVMaWtlcyIsImxpa2VzIiwib3duZXIiLCJzb21lIiwicGVyc29uIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY29uZmlybVBvcHVwIiwic2V0QWN0aW9uIiwiZmluYWxseSIsImdldEVsZW1lbnQiLCJpbWFnZVBvcHVwIiwiYWxsIiwiY2FyZHMiLCJ1c2VyRGF0YSIsInNlY3Rpb24iLCJyZW5kZXIiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiX2l0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmQiLCJfdGl0bGUiLCJfaW1hZ2UiLCJzcmMiLCJhbHQiLCJlZGl0UG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwiYWRkUG9wdXAiLCJ0aXRsZSIsImF2YXRhclBvcHVwIiwiYWN0aW9uIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldEZvcm1WYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==