!function(){"use strict";document.querySelector(".places");const e=document.querySelector("#place-template"),t=document.querySelector(".popup_type_edit").querySelector(".popup__form"),s=document.querySelector(".popup_type_add").querySelector(".popup__form"),i=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),n=document.querySelector(".profile__image-overlay"),o=document.querySelector(".popup__input_type_name"),a=document.querySelector(".popup__input_type_profession"),c={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var h=class{constructor(e,t){u(this,"_showInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)})),u(this,"_hideInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)})),u(this,"_hasOnlyValidInputs",(()=>this._inputList.every((e=>e.validity.valid)))),u(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),u(this,"_setEventListeners",(()=>{this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector),this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),u(this,"_toggleButton",(()=>{this._hasOnlyValidInputs()?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)})),u(this,"resetFormValidation",(()=>{this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()})),u(this,"enableValidation",(()=>{this._setEventListeners()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}},_=class{constructor(e){var t,s;s=e=>{e.preventDefault(),"Escape"===e.key&&this.close()},(t="_handleEscUp")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=document.querySelector(e),this._handleEscUp=this._handleEscUp.bind(this),this.close=this.close.bind(this)}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",this.close),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("popup")&&this.close()}))}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscUp)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscUp)}},d=class extends _{constructor(e,t,s){super(e),this._popupForm=this._popupElement.querySelector(".popup__form"),this._button=this._popupForm.querySelector(".popup__button"),this._inputList=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._buttonText=s,this._handleSubmit=t}getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}close(){this._popupForm.reset(),super.close()}showLoading(){this._button.textContent="Saving..."}hideLoading(){this._button.textContent=this._buttonText}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this.getInputValues())})),super.setEventListeners()}};let p;const m=new class{constructor(e){let{nameSelector:t,professionSelector:s,imageSelector:i}=e;this._userName=document.querySelector(t),this._userProfession=document.querySelector(s),this._userImage=document.querySelector(i)}getUserInfo(){return{name:this._userName.textContent,profession:this._userProfession.textContent}}setUserInfo(e){this._userName.textContent=e.name,this._userProfession.textContent=e.about}setUserImage(e){this._userImage.style.backgroundImage='url("'.concat(e,'")')}}({nameSelector:".profile__name",professionSelector:".profile__profession",imageSelector:".profile__image"}),E=new class{constructor(e){let{baseUrl:t,headers:s}=e;var i,r;r=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))),(i="_customFetch")in this?Object.defineProperty(this,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[i]=r,this._baseUrl=t,this._headers=s}getInitialCards(){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}getUserInfo(){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}updateUserImage(e){return this._customFetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}updateProfile(e){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.profession})})}addCard(e){let{name:t,link:s}=e;return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:s})})}removeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}likeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}dislikeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"439544b2-326e-4000-bd7d-7d8ec93af705","Content-Type":"application/json"}});function b(t){const s=new class{constructor(e,t,s){let{data:i,handleCardClick:r,handleDeleteCard:n,handleLikeButton:o}=e;l(this,"updateLikes",(e=>{this._likes=e,this._renderLikes(),this._cardElement.querySelector(".place__button").classList.toggle("place__button_active")})),l(this,"removeCard",(()=>this._cardElement.remove())),l(this,"_renderLikes",(()=>{this._cardElement.querySelector(".place__like-count").textContent=this._likes.length})),l(this,"_setEventListeners",(()=>{this._cardElement.querySelector(".place__image").addEventListener("click",(()=>this._handleCardClick(this._name,this._link))),this._cardElement.querySelector(".place__button").addEventListener("click",(()=>this._handleLikeButton(this._id))),this._cardElement.querySelector(".place__trash").addEventListener("click",(()=>this._handleDeleteCard(this._id)))})),l(this,"_getTemplate",(()=>this._cardSelector.content.querySelector(".places__item").cloneNode(!0))),l(this,"getElement",(()=>(this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".place__image").style.backgroundImage="url(".concat(this._link,")"),this._cardElement.querySelector(".place__title").textContent=this._name,this._ownerId!==this._userId&&(this._cardElement.querySelector(".place__trash").style.display="none"),this._renderLikes(),this.isLiked()&&this.updateLikes(this._likes),this._cardElement))),this._name=i.name,this._link=i.link,this._id=i._id,this._likes=i.likes,this._handleCardClick=r,this._handleDeleteCard=n,this._handleLikeButton=o,this._cardSelector=t,this._userId=s,this._ownerId=i.owner._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}}({data:t,handleCardClick:g,handleLikeButton:e=>{s.isLiked()?E.dislikeCard(e).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log("Error.....: ".concat(e)))):E.likeCard(e).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log("Error.....: ".concat(e))))},handleDeleteCard:e=>{k.open(),k.setAction((()=>{k.showLoading(),E.removeCard(e).then((()=>{s.removeCard(),k.close()})).catch((e=>console.log("Error.....: ".concat(e)))).finally((()=>{k.hideLoading()}))}))}},e,p);return s.getElement()}function g(e,t){v.open(e,t)}Promise.all([E.getInitialCards(),E.getUserInfo()]).then((e=>{let[t,s]=e;p=s._id,y.render(t),m.setUserImage(s.avatar),m.setUserInfo({name:s.name,about:s.about})})).catch((e=>console.log("Error.....: ".concat(e))));const y=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){this._items=e,this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:e=>{y.addItem(b(e))}},".places"),v=new class extends _{open(e,t){this._title=this._popupElement.querySelector(".popup__image-name"),this._image=this._popupElement.querySelector(".popup__image-preview"),this._title.textContent=e,this._image.src=t,this._image.alt="Image of ".concat(e),super.open()}}(".popup_type_preview");v.setEventListeners();const f=new d(".popup_type_edit",(function(){const e=f.getInputValues(),t={name:e.name,profession:e.profession};E.updateProfile(t).then((e=>{m.setUserInfo(e),f.close()})).catch((e=>console.log("Error.....: ".concat(e)))),f.showLoading()}),"Save");f.setEventListeners();const L=new d(".popup_type_add",(function(){const e=L.getInputValues(),t={name:e.title,link:e.link};L.showLoading(),E.addCard(t).then((e=>{y.addItem(b(e)),L.close()})).catch((e=>console.log("Error.....: ".concat(e)))).finally((()=>{L.hideLoading()}))}),"Create");L.setEventListeners();const S=new d(".popup_type_avatar",(function(e){E.updateUserImage(e.link).then((e=>{m.setUserImage(e.avatar),S.close()})).catch((e=>console.log("Error.....: ".concat(e)))),S.showLoading()}),"Save");S.setEventListeners();const k=new class extends _{constructor(e){super(e),this._button=this._popupElement.querySelector(".popup__button")}setAction(e){this._handleSubmit=e}showLoading(){this._button.textContent="Deleting..."}hideLoading(){this._button.textContent="Yes"}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()})),super.setEventListeners()}}(".popup_type_confirm");k.setEventListeners();const C=new h(c,t),I=new h(c,s);C.enableValidation(),I.enableValidation(),i.addEventListener("click",(()=>{const e=m.getUserInfo();f.open(),o.value=e.name,a.value=e.profession,C.resetFormValidation()})),r.addEventListener("click",(()=>{I.resetFormValidation(),L.open()})),n.addEventListener("click",(()=>{S.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQXNCQSxTQUFTQyxjQUFjLFdBQXRDLE1BQ01DLEVBQWVGLFNBQVNDLGNBQWMsbUJBRXRDRSxFQUFXSCxTQUFTQyxjQUFjLG9CQUFvQkEsY0FBYyxnQkFDcEVHLEVBQVVKLFNBQVNDLGNBQWMsbUJBQW1CQSxjQUFjLGdCQUVsRUksRUFBVUwsU0FBU0MsY0FBYyx5QkFDakNLLEVBQVNOLFNBQVNDLGNBQWMsd0JBQ2hDTSxFQUFZUCxTQUFTQyxjQUFjLDJCQUVuQ08sRUFBaUJSLFNBQVNDLGNBQWMsMkJBQ3hDUSxFQUF1QlQsU0FBU0MsY0FBYyxpQ0FFOUNTLEVBQXFCLENBQzlCQyxjQUFlLGdCQUNmQyxxQkFBc0IsaUJBQ3RCQyxvQkFBcUIseUJBQ3JCQyxnQkFBaUIsMEJBQ2pCQyxXQUFZLHdCLGdQQzJEaEIsTUE3RUEsTUFFSUMsWUFBWUMsRUFBVUMsR0FBYSwwQkFVaEJDLElBQ2YsTUFBTUMsRUFBZUMsS0FBS0MsTUFBTXJCLGNBQVgsV0FBNkJrQixFQUFRSSxHQUFyQyxXQUNyQkgsRUFBYUksWUFBY0wsRUFBUU0sa0JBQ25DTCxFQUFhTSxVQUFVQyxJQUFJTixLQUFLTyxhQUNoQ1QsRUFBUU8sVUFBVUMsSUFBSU4sS0FBS1EscUJBZEksMEJBaUJoQlYsSUFDZixNQUFNQyxFQUFlQyxLQUFLQyxNQUFNckIsY0FBWCxXQUE2QmtCLEVBQVFJLEdBQXJDLFdBQ3JCSCxFQUFhSSxZQUFjLEdBQzNCSixFQUFhTSxVQUFVSSxPQUFPVCxLQUFLTyxhQUNuQ1QsRUFBUU8sVUFBVUksT0FBT1QsS0FBS1EscUJBckJDLDhCQXdCYixJQUFNUixLQUFLVSxXQUFXQyxPQUFPYixHQUFZQSxFQUFRYyxTQUFTQyxVQXhCN0MsOEJBMkJaZixJQUNmQSxFQUFRYyxTQUFTQyxNQUNqQmIsS0FBS2MsZ0JBQWdCaEIsR0FFckJFLEtBQUtlLGdCQUFnQmpCLE1BL0JNLDZCQW9DZCxLQUNqQkUsS0FBS1UsV0FBYU0sTUFBTUMsS0FBS2pCLEtBQUtDLE1BQU1pQixpQkFBaUJsQixLQUFLbUIsaUJBQzlEbkIsS0FBS29CLGNBQWdCcEIsS0FBS0MsTUFBTXJCLGNBQWNvQixLQUFLcUIsdUJBQ25EckIsS0FBS3NCLGdCQUVMdEIsS0FBS1UsV0FBV2EsU0FBU3pCLElBQ3JCQSxFQUFRMEIsaUJBQWlCLFNBQVMsS0FDOUJ4QixLQUFLeUIsb0JBQW9CM0IsR0FDekJFLEtBQUtzQix5QkE1Q2tCLHdCQWlEbkIsS0FFUnRCLEtBQUswQix1QkFDTDFCLEtBQUtvQixjQUFjTyxVQUFXLEVBQzlCM0IsS0FBS29CLGNBQWNmLFVBQVVJLE9BQU9ULEtBQUs0Qix3QkFFekM1QixLQUFLb0IsY0FBY2YsVUFBVUMsSUFBSU4sS0FBSzRCLHNCQUN0QzVCLEtBQUtvQixjQUFjTyxVQUFXLE1BeERILDhCQTREYixLQUNsQjNCLEtBQUtVLFdBQVdhLFNBQVF6QixJQUNwQkUsS0FBS2MsZ0JBQWdCaEIsTUFHekJFLEtBQUtzQixtQkFqRTBCLDJCQW9FaEIsS0FDZnRCLEtBQUs2Qix3QkFwRUw3QixLQUFLbUIsZUFBaUJ2QixFQUFTTixjQUMvQlUsS0FBS3FCLHNCQUF3QnpCLEVBQVNMLHFCQUN0Q1MsS0FBSzRCLHFCQUF1QmhDLEVBQVNKLG9CQUNyQ1EsS0FBS1EsaUJBQW1CWixFQUFTSCxnQkFDakNPLEtBQUtPLFlBQWNYLEVBQVNGLFdBRTVCTSxLQUFLQyxNQUFRSixJQzZCckIsRUF0Q0EsTUFFSUYsWUFBWW1DLEcsVUFNSUMsSUFDWkEsRUFBRUMsaUJBRVksV0FBVkQsRUFBRUUsS0FDRmpDLEtBQUtrQyxVLEVBVmMsdUIsc0JBQUEsSyx1REFBQSxLLEtBQ3ZCbEMsS0FBS21DLGNBQWdCeEQsU0FBU0MsY0FBY2tELEdBQzVDOUIsS0FBS29DLGFBQWVwQyxLQUFLb0MsYUFBYUMsS0FBS3JDLE1BQzNDQSxLQUFLa0MsTUFBUWxDLEtBQUtrQyxNQUFNRyxLQUFLckMsTUFXakNzQyxvQkFDSXRDLEtBQUttQyxjQUFjdkQsY0FBYyx3QkFBd0I0QyxpQkFBaUIsUUFBU3hCLEtBQUtrQyxPQUV4RmxDLEtBQUttQyxjQUFjWCxpQkFBaUIsYUFBY08sSUFDMUNBLEVBQUVRLE9BQU9sQyxVQUFVbUMsU0FBUyxVQUM1QnhDLEtBQUtrQyxXQUtqQk8sT0FDSXpDLEtBQUttQyxjQUFjOUIsVUFBVUMsSUFBSSxnQkFDakMzQixTQUFTNkMsaUJBQWlCLFFBQVN4QixLQUFLb0MsY0FHNUNGLFFBQ0lsQyxLQUFLbUMsY0FBYzlCLFVBQVVJLE9BQU8sZ0JBQ3BDOUIsU0FBUytELG9CQUFvQixRQUFTMUMsS0FBS29DLGdCQ2lCbkQsRUFoREEsY0FBNEJPLEVBRXhCaEQsWUFBWW1DLEVBQWVjLEVBQWNDLEdBQ3JDQyxNQUFNaEIsR0FFTjlCLEtBQUsrQyxXQUFhL0MsS0FBS21DLGNBQWN2RCxjQUFjLGdCQUNuRG9CLEtBQUtnRCxRQUFVaEQsS0FBSytDLFdBQVduRSxjQUFjLGtCQUM3Q29CLEtBQUtVLFdBQWFNLE1BQU1DLEtBQUtqQixLQUFLK0MsV0FBVzdCLGlCQUFpQixrQkFFOURsQixLQUFLaUQsWUFBY0osRUFFbkI3QyxLQUFLa0QsY0FBZ0JOLEVBR3pCTyxpQkFDSSxNQUFNQyxFQUFjLEdBS3BCLE9BSkFwRCxLQUFLVSxXQUFXYSxTQUFTOEIsSUFDckJELEVBQVlDLEVBQU1DLE1BQVFELEVBQU1FLFNBRzdCSCxFQUdYbEIsUUFDSWxDLEtBQUsrQyxXQUFXUyxRQUVoQlYsTUFBTVosUUFHVnVCLGNBQ0l6RCxLQUFLZ0QsUUFBUTdDLFlBQWMsWUFHL0J1RCxjQUNJMUQsS0FBS2dELFFBQVE3QyxZQUFjSCxLQUFLaUQsWUFHcENYLG9CQUNJdEMsS0FBSytDLFdBQVd2QixpQkFBaUIsVUFBV08sSUFDeENBLEVBQUVDLGlCQUNGaEMsS0FBS2tELGNBQWNsRCxLQUFLbUQscUJBRzVCTCxNQUFNUixzQkMvQmQsSUFBSXFCLEVBRUosTUFBTUMsRUFBVyxJQ2hCakIsTUFFSWpFLFlBQVksR0FBcUQsSUFBckQsYUFBRWtFLEVBQUYsbUJBQWdCQyxFQUFoQixjQUFvQ0MsR0FBaUIsRUFDN0QvRCxLQUFLZ0UsVUFBWXJGLFNBQVNDLGNBQWNpRixHQUN4QzdELEtBQUtpRSxnQkFBa0J0RixTQUFTQyxjQUFja0YsR0FDOUM5RCxLQUFLa0UsV0FBYXZGLFNBQVNDLGNBQWNtRixHQUc3Q0ksY0FDSSxNQUFPLENBQ0hiLEtBQU10RCxLQUFLZ0UsVUFBVTdELFlBQ3JCaUUsV0FBWXBFLEtBQUtpRSxnQkFBZ0I5RCxhQUl6Q2tFLFlBQVlDLEdBQ1J0RSxLQUFLZ0UsVUFBVTdELFlBQWNtRSxFQUFLaEIsS0FDbEN0RCxLQUFLaUUsZ0JBQWdCOUQsWUFBY21FLEVBQUtDLE1BRzVDQyxhQUFhQyxHQUNUekUsS0FBS2tFLFdBQVdRLE1BQU1DLGdCQUF0QixlQUFnREYsRUFBaEQsUURMc0IsQ0FDMUJaLGFBQWMsaUJBQ2RDLG1CQUFvQix1QkFDcEJDLGNBQWUsb0JBS2JhLEVBQU0sSUV4QkcsTUFFYmpGLFlBQVksR0FBc0IsSUFBdEIsUUFBRWtGLEVBQVNDLFFBQUFBLEdBQVcsRSxVQUtuQixDQUFDTCxFQUFLSyxJQUNaQyxNQUFNTixFQUFLSyxHQUNmRSxNQUFNQyxHQUNMQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFSLGlCQUF5QkosRUFBSUssWSxFQVJ2Qix1QixzQkFBQSxLLHVEQUFBLEssS0FDaEN0RixLQUFLdUYsU0FBV1YsRUFDaEI3RSxLQUFLd0YsU0FBV1YsRUFhbEJXLGtCQUNFLE9BQU96RixLQUFLMEYsYUFBTCxVQUFxQjFGLEtBQUt1RixTQUExQixVQUE0QyxDQUNqRFQsUUFBUzlFLEtBQUt3RixXQUlsQnJCLGNBQ0UsT0FBT25FLEtBQUswRixhQUFMLFVBQXFCMUYsS0FBS3VGLFNBQTFCLGFBQStDLENBQ3BEVCxRQUFTOUUsS0FBS3dGLFdBSWxCRyxnQkFBZ0JyQixHQUNkLE9BQU90RSxLQUFLMEYsYUFBTCxVQUFxQjFGLEtBQUt1RixTQUExQixvQkFBc0QsQ0FDM0RULFFBQVM5RSxLQUFLd0YsU0FDZEksT0FBUSxRQUNSQyxLQUFNQyxLQUFLQyxVQUFVLENBQUVDLE9BQVExQixNQUluQzJCLGNBQWMzQixHQUNaLE9BQU90RSxLQUFLMEYsYUFBTCxVQUFxQjFGLEtBQUt1RixTQUExQixhQUErQyxDQUNsRFQsUUFBUzlFLEtBQUt3RixTQUNkSSxPQUFRLFFBQ1JDLEtBQU1DLEtBQUtDLFVBQVUsQ0FDakJ6QyxLQUFNZ0IsRUFBS2hCLEtBQ1hpQixNQUFPRCxFQUFLRixlQUt0QjhCLFFBQVEsR0FBZ0IsSUFBaEIsS0FBRTVDLEVBQUYsS0FBUTZDLEdBQVEsRUFDdEIsT0FBT25HLEtBQUswRixhQUFMLFVBQXFCMUYsS0FBS3VGLFNBQTFCLFVBQTRDLENBQ2pEVCxRQUFTOUUsS0FBS3dGLFNBQ2RJLE9BQVEsT0FDUkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNsQnpDLEtBQUFBLEVBQ0E2QyxLQUFBQSxNQUtQQyxXQUFXQyxHQUNULE9BQU9yRyxLQUFLMEYsYUFBTCxVQUFxQjFGLEtBQUt1RixTQUExQixrQkFBNENjLEdBQVUsQ0FDM0R2QixRQUFTOUUsS0FBS3dGLFNBQ2RJLE9BQVEsV0FJWlUsU0FBU0QsR0FDUCxPQUFPckcsS0FBSzBGLGFBQUwsVUFBcUIxRixLQUFLdUYsU0FBMUIsd0JBQWtEYyxHQUFVLENBQ2pFdkIsUUFBUzlFLEtBQUt3RixTQUNkSSxPQUFRLFFBSVpXLFlBQVlGLEdBQ1YsT0FBT3JHLEtBQUswRixhQUFMLFVBQXFCMUYsS0FBS3VGLFNBQTFCLHdCQUFrRGMsR0FBVSxDQUNqRXZCLFFBQVM5RSxLQUFLd0YsU0FDZEksT0FBUSxhRnBETSxDQUNoQmYsUUFBUyw4Q0FDVEMsUUFBUyxDQUNMMEIsY0FBZSx1Q0FDZixlQUFnQixzQkFpQnhCLFNBQVNDLEVBQVduQyxHQUNoQixNQUFNb0MsRUFBVSxJRzlDcEIsTUFFSS9HLFlBQVksRUFBK0RnSCxFQUFjaEQsR0FBUSxJQUFyRixLQUFFVyxFQUFGLGdCQUFRc0MsRUFBUixpQkFBeUJDLEVBQXpCLGlCQUEyQ0MsR0FBMEMsd0JBbUJsRkMsSUFDWC9HLEtBQUtnSCxPQUFTRCxFQUVkL0csS0FBS2lILGVBRUxqSCxLQUFLa0gsYUFBYXRJLGNBQWMsa0JBQWtCeUIsVUFBVThHLE9BQU8sMkJBeEIwQixxQkEyQnBGLElBQU1uSCxLQUFLa0gsYUFBYXpHLFdBM0I0RCx1QkE2QmxGLEtBQ1VULEtBQUtrSCxhQUFhdEksY0FBYyxzQkFDeEN1QixZQUFjSCxLQUFLZ0gsT0FBT0ksVUEvQnNELDZCQWtDNUUsS0FDakJwSCxLQUFLa0gsYUFBYXRJLGNBQWMsaUJBQy9CNEMsaUJBQWlCLFNBQVMsSUFBTXhCLEtBQUtxSCxpQkFBaUJySCxLQUFLc0gsTUFBT3RILEtBQUt1SCxTQUV4RXZILEtBQUtrSCxhQUFhdEksY0FBYyxrQkFDL0I0QyxpQkFBaUIsU0FBUyxJQUFNeEIsS0FBS3dILGtCQUFrQnhILEtBQUt5SCxPQUU3RHpILEtBQUtrSCxhQUFhdEksY0FBYyxpQkFDL0I0QyxpQkFBaUIsU0FBUyxJQUFNeEIsS0FBSzBILGtCQUFrQjFILEtBQUt5SCxVQTFDZ0MsdUJBNkNsRixJQUNKekgsS0FBSzJILGNBQ1hDLFFBQVFoSixjQUFjLGlCQUN0QmlKLFdBQVUsS0FoRGtGLHFCQW1EcEYsS0FDVDdILEtBQUtrSCxhQUFlbEgsS0FBSzhILGVBQ3pCOUgsS0FBSzZCLHFCQUVMN0IsS0FBS2tILGFBQWF0SSxjQUFjLGlCQUMvQjhGLE1BQU1DLGdCQURQLGNBQ2dDM0UsS0FBS3VILE1BRHJDLEtBR0F2SCxLQUFLa0gsYUFBYXRJLGNBQWMsaUJBQWlCdUIsWUFBY0gsS0FBS3NILE1BRWhFdEgsS0FBSytILFdBQWEvSCxLQUFLZ0ksVUFDdkJoSSxLQUFLa0gsYUFBYXRJLGNBQWMsaUJBQWlCOEYsTUFBTXVELFFBQVUsUUFHckVqSSxLQUFLaUgsZUFFRGpILEtBQUtrSSxXQUNMbEksS0FBS21JLFlBQVluSSxLQUFLZ0gsUUFHbkJoSCxLQUFLa0gsZ0JBckVabEgsS0FBS3NILE1BQVFoRCxFQUFLaEIsS0FDbEJ0RCxLQUFLdUgsTUFBUWpELEVBQUs2QixLQUVsQm5HLEtBQUt5SCxJQUFNbkQsRUFBS21ELElBQ2hCekgsS0FBS2dILE9BQVMxQyxFQUFLOEQsTUFDbkJwSSxLQUFLcUgsaUJBQW1CVCxFQUN4QjVHLEtBQUswSCxrQkFBb0JiLEVBQ3pCN0csS0FBS3dILGtCQUFvQlYsRUFFekI5RyxLQUFLMkgsY0FBZ0JoQixFQUNyQjNHLEtBQUtnSSxRQUFVckUsRUFDZjNELEtBQUsrSCxTQUFXekQsRUFBSytELE1BQU1aLElBRy9CUyxVQUNJLE9BQU9sSSxLQUFLZ0gsT0FBT3NCLE1BQU1DLEdBQVdBLEVBQU9kLE1BQVF6SCxLQUFLZ0ksWUg0Qm5DLENBQ3JCMUQsS0FBQUEsRUFDQXNDLGdCQUFBQSxFQUNBRSxpQkFBbUI1RyxJQUNRd0csRUFBUXdCLFVBRzNCdEQsRUFBSTJCLFlBQVlyRyxHQUFJOEUsTUFBTUMsSUFDdEJ5QixFQUFReUIsWUFBWWxELEVBQUltRCxVQUUzQkksT0FBTUMsR0FBT0MsUUFBUUMsSUFBUixzQkFBMkJGLE1BRXpDN0QsRUFBSTBCLFNBQVNwRyxHQUFJOEUsTUFBTUMsSUFDbkJ5QixFQUFReUIsWUFBWWxELEVBQUltRCxVQUUzQkksT0FBTUMsR0FBT0MsUUFBUUMsSUFBUixzQkFBMkJGLE9BR2pENUIsaUJBQW1CM0csSUFDZjBJLEVBQWFuRyxPQUNibUcsRUFBYUMsV0FBVSxLQUNuQkQsRUFBYW5GLGNBQ2JtQixFQUFJd0IsV0FBV2xHLEdBQUk4RSxNQUFLLEtBQ3BCMEIsRUFBUU4sYUFDUndDLEVBQWExRyxXQUVoQnNHLE9BQU1DLEdBQU9DLFFBQVFDLElBQVIsc0JBQTJCRixNQUN4Q0ssU0FBUSxLQUNMRixFQUFhbEYsc0JBSTFCN0UsRUFBYzhFLEdBRWpCLE9BQU8rQyxFQUFRcUMsYUFHbkIsU0FBU25DLEVBQWlCdEQsRUFBTTZDLEdBQzVCNkMsRUFBV3ZHLEtBQUthLEVBQU02QyxHQW5EMUJmLFFBQVE2RCxJQUFJLENBQUNyRSxFQUFJYSxrQkFBbUJiLEVBQUlULGdCQUNuQ2EsTUFBSyxJQUF1QixJQUFyQmtFLEVBQU9DLEdBQWMsRUFDekJ4RixFQUFTd0YsRUFBUzFCLElBQ2xCMkIsRUFBUUMsT0FBT0gsR0FFZnRGLEVBQVNZLGFBQWEyRSxFQUFTbkQsUUFDL0JwQyxFQUFTUyxZQUFZLENBQUVmLEtBQU02RixFQUFTN0YsS0FBTWlCLE1BQU80RSxFQUFTNUUsV0FFL0RpRSxPQUFNQyxHQUFPQyxRQUFRQyxJQUFSLHNCQUEyQkYsTUFpRjdDLE1BQU1XLEVBQVUsSUkxSGhCLE1BRUl6SixZQUFZLEVBQWMySixHQUFtQixJQUFqQyxTQUFFQyxHQUErQixFQUN6Q3ZKLEtBQUt3SixVQUFZRCxFQUNqQnZKLEtBQUt5SixXQUFhOUssU0FBU0MsY0FBYzBLLEdBRzdDRCxPQUFPSyxHQUNIMUosS0FBSzJKLE9BQVNELEVBQ2QxSixLQUFLMkosT0FBT3BJLFNBQVFxSSxJQUNoQjVKLEtBQUt3SixVQUFVSSxNQUl2QkMsUUFBUUMsR0FDSjlKLEtBQUt5SixXQUFXTSxRQUFRRCxLSjJHSixDQUN4QlAsU0FBV1MsSUFDUFosRUFBUVMsUUFBUXBELEVBQVd1RCxNQUVoQyxXQUVHaEIsRUFBYSxJSzlIbkIsY0FBNkJyRyxFQUV6QkYsS0FBS2EsRUFBTTZDLEdBQ1BuRyxLQUFLaUssT0FBU2pLLEtBQUttQyxjQUFjdkQsY0FBYyxzQkFDL0NvQixLQUFLa0ssT0FBU2xLLEtBQUttQyxjQUFjdkQsY0FBYyx5QkFFL0NvQixLQUFLaUssT0FBTzlKLFlBQWNtRCxFQUMxQnRELEtBQUtrSyxPQUFPQyxJQUFNaEUsRUFDbEJuRyxLQUFLa0ssT0FBT0UsSUFBWixtQkFBOEI5RyxHQUM5QlIsTUFBTUwsU0xxSHdCLHVCQUN0Q3VHLEVBQVcxRyxvQkFFWCxNQUFNK0gsRUFBWSxJQUFJQyxFQUFjLG9CQTlCcEMsV0FDSSxNQUFNbEgsRUFBY2lILEVBQVVsSCxpQkFDeEJtQixFQUFPLENBQUVoQixLQUFNRixFQUFZRSxLQUFNYyxXQUFZaEIsRUFBWWdCLFlBQy9EUSxFQUFJcUIsY0FBYzNCLEdBQU1VLE1BQUtDLElBQ3pCckIsRUFBU1MsWUFBWVksR0FDckJvRixFQUFVbkksV0FFYnNHLE9BQU1DLEdBQU9DLFFBQVFDLElBQVIsc0JBQTJCRixNQUN6QzRCLEVBQVU1RyxnQkFzQmdFLFFBRTlFNEcsRUFBVS9ILG9CQUVWLE1BQU1pSSxFQUFXLElBQUlELEVBQWMsbUJBaERuQyxXQUNJLE1BQU1sSCxFQUFjbUgsRUFBU3BILGlCQUN2Qm1CLEVBQU8sQ0FBRWhCLEtBQU1GLEVBQVlvSCxNQUFPckUsS0FBTS9DLEVBQVkrQyxNQUMxRG9FLEVBQVM5RyxjQUNUbUIsRUFBSXNCLFFBQVE1QixHQUFNVSxNQUFLQyxJQUNuQm1FLEVBQVFTLFFBQVFwRCxFQUFXeEIsSUFDM0JzRixFQUFTckksV0FFWnNHLE9BQU1DLEdBQU9DLFFBQVFDLElBQVIsc0JBQTJCRixNQUN4Q0ssU0FBUSxLQUNMeUIsRUFBUzdHLG1CQXNDMEQsVUFFM0U2RyxFQUFTakksb0JBRVQsTUFBTW1JLEVBQWMsSUFBSUgsRUFBYyxzQkEzQnRDLFNBQWdDbkIsR0FDNUJ2RSxFQUFJZSxnQkFBZ0J3RCxFQUFTaEQsTUFBTW5CLE1BQUtDLElBQ3BDckIsRUFBU1ksYUFBYVMsRUFBSWUsUUFDMUJ5RSxFQUFZdkksV0FFZnNHLE9BQU1DLEdBQU9DLFFBQVFDLElBQVIsc0JBQTJCRixNQUN6Q2dDLEVBQVloSCxnQkFxQm9FLFFBRXBGZ0gsRUFBWW5JLG9CQUVaLE1BQU1zRyxFQUFlLElNM0lyQixjQUFvQ2pHLEVBRWhDaEQsWUFBWW1DLEdBQ1JnQixNQUFNaEIsR0FDTjlCLEtBQUtnRCxRQUFVaEQsS0FBS21DLGNBQWN2RCxjQUFjLGtCQUdwRGlLLFVBQVU2QixHQUNOMUssS0FBS2tELGNBQWdCd0gsRUFHekJqSCxjQUNJekQsS0FBS2dELFFBQVE3QyxZQUFjLGNBRy9CdUQsY0FDSTFELEtBQUtnRCxRQUFRN0MsWUFBYyxNQUcvQm1DLG9CQUNJdEMsS0FBS21DLGNBQWNYLGlCQUFpQixVQUFXTyxJQUMzQ0EsRUFBRUMsaUJBQ0ZoQyxLQUFLa0QsbUJBR1RKLE1BQU1SLHNCTmtIaUMsdUJBRS9Dc0csRUFBYXRHLG9CQUViLE1BQU1xSSxFQUFvQixJQUFJQyxFQUFjdkwsRUFBb0JQLEdBQzFEK0wsRUFBbUIsSUFBSUQsRUFBY3ZMLEVBQW9CTixHQUUvRDRMLEVBQWtCRyxtQkFDbEJELEVBQWlCQyxtQkFJakI5TCxFQUFRd0MsaUJBQWlCLFNBQVMsS0FDOUIsTUFBTThDLEVBQU9WLEVBQVNPLGNBQ3RCa0csRUFBVTVILE9BQ1Z0RCxFQUFlb0UsTUFBUWUsRUFBS2hCLEtBQzVCbEUsRUFBcUJtRSxNQUFRZSxFQUFLRixXQUNsQ3VHLEVBQWtCSSx5QkFJdEI5TCxFQUFPdUMsaUJBQWlCLFNBQVMsS0FDN0JxSixFQUFpQkUsc0JBQ2pCUixFQUFTOUgsVUFHYnZELEVBQVVzQyxpQkFBaUIsU0FBUyxLQUNoQ2lKLEVBQVloSSxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9wYWdlL2luZGV4LmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvdXRpbHMvQXBpLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvdXBXaXRoQ29uZmltYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHBsYWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGFjZS10ZW1wbGF0ZVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9lZGl0XCIpLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbmV4cG9ydCBjb25zdCBhZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZFwiKS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1vdmVybGF5XCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwSW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbnB1dFByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX3Byb2Zlc3Npb25cIik7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIlxyXG59OyIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG5cclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWwpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYXNPbmx5VmFsaWRJbnB1dHMgPSAoKSA9PiB0aGlzLl9pbnB1dExpc3QuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWwpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfdG9nZ2xlQnV0dG9uID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faGFzT25seVZhbGlkSW5wdXRzKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldEZvcm1WYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0RWwgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7IiwiY2xhc3MgUG9wdXAge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY1VwID0gdGhpcy5faGFuZGxlRXNjVXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NVcCA9IChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXAnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY1VwKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjVXApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdCwgYnV0dG9uVGV4dCkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgICAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uVGV4dCA9IGJ1dHRvblRleHQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcblxyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0xvYWRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlTG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07IiwiLy8gTkVFRCBUTyBVUERBVEUvL1xyXG5cclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmltcG9ydCB7IGNhcmRUZW1wbGF0ZSwgZWRpdEZvcm0sIGFkZEZvcm0sIGVkaXRCdG4sIGFkZEJ0biwgYXZhdGFyQnRuLCBwb3B1cElucHV0TmFtZSwgcG9wdXBJbnB1dFByb2Zlc3Npb24sIHZhbGlkYXRpb25TZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3VwV2l0aENvbmZpbWF0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcclxuXHJcbmxldCB1c2VySWQ7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgIHByb2Zlc3Npb25TZWxlY3RvcjogXCIucHJvZmlsZV9fcHJvZmVzc2lvblwiLFxyXG4gICAgaW1hZ2VTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIlxyXG59KTtcclxuXHJcbi8vIEFQSVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjQzOTU0NGIyLTMyNmUtNDAwMC1iZDdkLTdkOGVjOTNhZjcwNVwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgfSxcclxufSk7XHJcblxyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKVxyXG4gICAgLnRoZW4oKFtjYXJkcywgdXNlckRhdGFdKSA9PiB7XHJcbiAgICAgICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG4gICAgICAgIHNlY3Rpb24ucmVuZGVyKGNhcmRzKTtcclxuXHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckltYWdlKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lOiB1c2VyRGF0YS5uYW1lLCBhYm91dDogdXNlckRhdGEuYWJvdXQgfSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpO1xyXG5cclxuLy8gRnVuY3Rpb25zXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcclxuICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZCh7XHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICAgICAgaGFuZGxlTGlrZUJ1dHRvbjogKGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQWxyZWFkeWxpa2VkID0gbmV3Q2FyZC5pc0xpa2VkKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNBbHJlYWR5bGlrZWQpIHtcclxuICAgICAgICAgICAgICAgIGFwaS5kaXNsaWtlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwaS5saWtlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFuZGxlRGVsZXRlQ2FyZDogKGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5vcGVuKCk7XHJcbiAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5zZXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uZmlybVBvcHVwLnNob3dMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhcGkucmVtb3ZlQ2FyZChpZCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpXHJcbiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybVBvcHVwLmhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9LCBjYXJkVGVtcGxhdGUsIHVzZXJJZClcclxuXHJcbiAgICByZXR1cm4gbmV3Q2FyZC5nZXRFbGVtZW50KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayAobmFtZSwgbGluaykge1xyXG4gICAgaW1hZ2VQb3B1cC5vcGVuKG5hbWUsIGxpbmspO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRGb3JtU3VibWl0KCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSBhZGRQb3B1cC5nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgY29uc3QgZGF0YSA9IHsgbmFtZTogaW5wdXRWYWx1ZXMudGl0bGUsIGxpbms6IGlucHV0VmFsdWVzLmxpbmsgfTtcclxuICAgIGFkZFBvcHVwLnNob3dMb2FkaW5nKCk7XHJcbiAgICBhcGkuYWRkQ2FyZChkYXRhKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQocmVzKSk7XHJcbiAgICAgICAgYWRkUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBhZGRQb3B1cC5oaWRlTG9hZGluZygpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSBlZGl0UG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgIGNvbnN0IGRhdGEgPSB7IG5hbWU6IGlucHV0VmFsdWVzLm5hbWUsIHByb2Zlc3Npb246IGlucHV0VmFsdWVzLnByb2Zlc3Npb24gfTtcclxuICAgIGFwaS51cGRhdGVQcm9maWxlKGRhdGEpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICAgIGVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKTtcclxuICAgIGVkaXRQb3B1cC5zaG93TG9hZGluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KHVzZXJEYXRhKSB7XHJcbiAgICBhcGkudXBkYXRlVXNlckltYWdlKHVzZXJEYXRhLmxpbmspLnRoZW4ocmVzID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW1hZ2UocmVzLmF2YXRhcik7XHJcbiAgICAgICAgYXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSk7XHJcbiAgICBhdmF0YXJQb3B1cC5zaG93TG9hZGluZygpO1xyXG59XHJcblxyXG4vLyBDbGFzc2VzXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICByZW5kZXJlcjogKGNhcmQpID0+IHtcclxuICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkKSk7XHJcbiAgICB9XHJcbn0sIFwiLnBsYWNlc1wiKTtcclxuXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9wcmV2aWV3XCIpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2VkaXRcIiwgaGFuZGxlRWRpdEZvcm1TdWJtaXQsIFwiU2F2ZVwiKTtcclxuXHJcbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2FkZFwiLCBoYW5kbGVBZGRGb3JtU3VibWl0LCBcIkNyZWF0ZVwiKTtcclxuXHJcbmFkZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQsIFwiU2F2ZVwiKTtcclxuXHJcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiLnBvcHVwX3R5cGVfY29uZmlybVwiKTtcclxuXHJcbmNvbmZpcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGVkaXRGb3JtKTtcclxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgYWRkRm9ybSk7XHJcblxyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9FdmVudCBMaXN0ZW5lcnNcclxuXHJcbmVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpXHJcbiAgICBlZGl0UG9wdXAub3BlbigpO1xyXG4gICAgcG9wdXBJbnB1dE5hbWUudmFsdWUgPSBkYXRhLm5hbWU7XHJcbiAgICBwb3B1cElucHV0UHJvZmVzc2lvbi52YWx1ZSA9IGRhdGEucHJvZmVzc2lvbjtcclxuICAgIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0Rm9ybVZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG5cclxuYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhZGRGb3JtVmFsaWRhdG9yLnJlc2V0Rm9ybVZhbGlkYXRpb24oKTtcclxuICAgIGFkZFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5hdmF0YXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGF2YXRhclBvcHVwLm9wZW4oKTtcclxufSkiLCJjbGFzcyBVc2VySW5mbyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIHByb2Zlc3Npb25TZWxlY3RvciwgaW1hZ2VTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdXNlclByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2Zlc3Npb25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdXNlckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbWFnZVNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4geyBcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIHByb2Zlc3Npb246IHRoaXMuX3VzZXJQcm9mZXNzaW9uLnRleHRDb250ZW50IFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lXHJcbiAgICAgICAgdGhpcy5fdXNlclByb2Zlc3Npb24udGV4dENvbnRlbnQgPSBkYXRhLmFib3V0XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckltYWdlKHVybCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJJbWFnZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiJHt1cmx9XCIpYDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2N1c3RvbUZldGNoID0gKHVybCwgaGVhZGVycykgPT4ge1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCwgaGVhZGVycylcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICAgKVxyXG4gICAgICAvLyAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJ9YCk7XHJcbiAgICAgIC8vIH0pO1xyXG4gIH07XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVVzZXJJbWFnZShkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBkYXRhIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQcm9maWxlKGRhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgYWJvdXQ6IGRhdGEucHJvZmVzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgbmFtZSxcclxuICAgICAgICAgbGluayBcclxuICAgICAgfSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGxpa2VDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzbGlrZUNhcmQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSIsImNsYXNzIENhcmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDYXJkLCBoYW5kbGVMaWtlQnV0dG9uIH0sIGNhcmRTZWxlY3RvciwgdXNlcklkKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG5cclxuICAgICAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbiA9IGhhbmRsZUxpa2VCdXR0b247XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTGlrZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKHBlcnNvbikgPT4gcGVyc29uLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICAgIH07XHJcblxyXG4gICAgdXBkYXRlTGlrZXMgPSAobmV3TGlrZXMpID0+IHtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2J1dHRvblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwicGxhY2VfX2J1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbW92ZUNhcmQgPSAoKSA9PiB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuXHJcbiAgICBfcmVuZGVyTGlrZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGlrZXNDb3VudGVyID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZS1jb3VudFwiKTtcclxuICAgICAgICBsaWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2ltYWdlXCIpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaykpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19idXR0b25cIilcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5faWQpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fdHJhc2hcIilcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5faWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRTZWxlY3RvclxyXG4gICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19pdGVtXCIpXHJcbiAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbGVtZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19pbWFnZVwiKVxyXG4gICAgICAgIC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7dGhpcy5fbGlua30pYDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fdHJhc2hcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGlrZXModGhpcy5fbGlrZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDsiLCJjbGFzcyBTZWN0aW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoaXRlbXMpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cclxuICAgIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLW5hbWVcIik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2UtcHJldmlld1wiKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9pbWFnZS5hbHQgPSBgSW1hZ2Ugb2YgJHtuYW1lfWBcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTsiLCIvLyBORUVEIFRPIFVQREFURS8vXHJcblxyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3Rpb24oYWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gYWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dMb2FkaW5nKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlTG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlllc1wiO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aENvbmZpcm1hdGlvbjsiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FyZFRlbXBsYXRlIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiZWRpdEJ0biIsImFkZEJ0biIsImF2YXRhckJ0biIsInBvcHVwSW5wdXROYW1lIiwicG9wdXBJbnB1dFByb2Zlc3Npb24iLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImNvbnN0cnVjdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwiX2Zvcm0iLCJpZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfZXJyb3JDbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJyZW1vdmUiLCJfaW5wdXRMaXN0IiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b24iLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGFzT25seVZhbGlkSW5wdXRzIiwiZGlzYWJsZWQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9zZXRFdmVudExpc3RlbmVycyIsInBvcHVwU2VsZWN0b3IiLCJlIiwicHJldmVudERlZmF1bHQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjVXAiLCJiaW5kIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXAiLCJoYW5kbGVTdWJtaXQiLCJidXR0b25UZXh0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2J1dHRvbiIsIl9idXR0b25UZXh0IiwiX2hhbmRsZVN1Ym1pdCIsImdldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsInJlc2V0Iiwic2hvd0xvYWRpbmciLCJoaWRlTG9hZGluZyIsInVzZXJJZCIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwicHJvZmVzc2lvblNlbGVjdG9yIiwiaW1hZ2VTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyUHJvZmVzc2lvbiIsIl91c2VySW1hZ2UiLCJnZXRVc2VySW5mbyIsInByb2Zlc3Npb24iLCJzZXRVc2VySW5mbyIsImRhdGEiLCJhYm91dCIsInNldFVzZXJJbWFnZSIsInVybCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsIl9jdXN0b21GZXRjaCIsInVwZGF0ZVVzZXJJbWFnZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwidXBkYXRlUHJvZmlsZSIsImFkZENhcmQiLCJsaW5rIiwicmVtb3ZlQ2FyZCIsImNhcmRJRCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJhdXRob3JpemF0aW9uIiwiY3JlYXRlQ2FyZCIsIm5ld0NhcmQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZUJ1dHRvbiIsIm5ld0xpa2VzIiwiX2xpa2VzIiwiX3JlbmRlckxpa2VzIiwiX2NhcmRFbGVtZW50IiwidG9nZ2xlIiwibGVuZ3RoIiwiX2hhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9pZCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfb3duZXJJZCIsIl91c2VySWQiLCJkaXNwbGF5IiwiaXNMaWtlZCIsInVwZGF0ZUxpa2VzIiwibGlrZXMiLCJvd25lciIsInNvbWUiLCJwZXJzb24iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjb25maXJtUG9wdXAiLCJzZXRBY3Rpb24iLCJmaW5hbGx5IiwiZ2V0RWxlbWVudCIsImltYWdlUG9wdXAiLCJhbGwiLCJjYXJkcyIsInVzZXJEYXRhIiwic2VjdGlvbiIsInJlbmRlciIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJfaXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY2FyZCIsIl90aXRsZSIsIl9pbWFnZSIsInNyYyIsImFsdCIsImVkaXRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJhZGRQb3B1cCIsInRpdGxlIiwiYXZhdGFyUG9wdXAiLCJhY3Rpb24iLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0Rm9ybVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9