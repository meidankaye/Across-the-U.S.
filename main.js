!function(){"use strict";document.querySelector(".places");const e=document.querySelector("#place-template"),t=document.querySelector(".popup_type_edit").querySelector(".popup__form"),s=document.querySelector(".popup_type_add").querySelector(".popup__form"),r=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),n=document.querySelector(".profile__image-overlay"),o=document.querySelector(".popup__input_type_name"),a=document.querySelector(".popup__input_type_profession"),c={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var h=class{constructor(e,t){u(this,"_showInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)})),u(this,"_hideInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)})),u(this,"_hasOnlyValidInputs",(()=>this._inputList.every((e=>e.validity.valid)))),u(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),u(this,"_setEventListeners",(()=>{this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector),this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),u(this,"_toggleButton",(()=>{this._hasOnlyValidInputs()?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)})),u(this,"resetFormValidation",(()=>{this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()})),u(this,"enableValidation",(()=>{this._setEventListeners()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}},_=class{constructor(e){var t,s;s=e=>{e.preventDefault(),"Escape"===e.key&&this.close()},(t="_handleEscUp")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=document.querySelector(e),this._handleEscUp=this._handleEscUp,this.close=this.close.bind(this)}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",this.close),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("popup")&&this.close()}))}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscUp)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscUp)}},d=class extends _{constructor(e,t,s){super(e),this._popupForm=this._popupElement.querySelector(".popup__form"),this._button=this._popupForm.querySelector(".popup__button"),this._inputList=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._buttonText=s,this._handleSubmit=t}getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}close(){this._popupForm.reset(),super.close()}showLoading(){this._button.textContent="Saving..."}hideLoading(){this._button.textContent=this._buttonText}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this.getInputValues())})),super.setEventListeners()}};let p;const m=new class{constructor(e){let{nameSelector:t,professionSelector:s,imageSelector:r}=e;this._userName=document.querySelector(t),this._userProfession=document.querySelector(s),this._userImage=document.querySelector(r)}getUserInfo(){return{name:this._userName.textContent,profession:this._userProfession.textContent}}setUserInfo(e){this._userName.textContent=e.name,this._userProfession.textContent=e.about}setUserImage(e){this._userImage.style.backgroundImage='url("'.concat(e,'")')}}({nameSelector:".profile__name",professionSelector:".profile__profession",imageSelector:".profile__image"}),E=new class{constructor(e){let{baseUrl:t,headers:s}=e;var r,i;i=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))),(r="_customFetch")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,this._baseUrl=t,this._headers=s}getInitialCards(){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}getUserInfo(){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}updateUserImage(e){return this._customFetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}updateProfile(e){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.profession})})}addCard(e){let{name:t,link:s}=e;return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:s})})}removeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}likeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}dislikeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"439544b2-326e-4000-bd7d-7d8ec93af705","Content-Type":"application/json"}});function b(t){const s=new class{constructor(e,t,s){let{data:r,handleCardClick:i,handleDeleteCard:n,handleLikeButton:o}=e;l(this,"updateLikes",(e=>{this._likes=e,this._renderLikes()})),l(this,"removeCard",(()=>this._cardElement.remove())),l(this,"_renderLikes",(()=>{this._cardElement.querySelector(".place__like-count").textContent=this._likes.length;const e=this._cardElement.querySelector(".place__button");this.isLiked()?e.classList.add("place__button_active"):e.classList.remove("place__button_active")})),l(this,"_setEventListeners",(()=>{this._cardElement.querySelector(".place__image").addEventListener("click",(()=>this._handleCardClick(this._name,this._link))),this._cardElement.querySelector(".place__button").addEventListener("click",(()=>this._handleLikeButton(this._id))),this._cardElement.querySelector(".place__trash").addEventListener("click",(()=>this._handleDeleteCard(this._id)))})),l(this,"_getTemplate",(()=>this._cardSelector.content.querySelector(".places__item").cloneNode(!0))),l(this,"getElement",(()=>(this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".place__image").style.backgroundImage="url(".concat(this._link,")"),this._cardElement.querySelector(".place__title").textContent=this._name,this._ownerId!==this._userId&&(this._cardElement.querySelector(".place__trash").style.display="none"),this.updateLikes(this._likes),this._cardElement))),this._name=r.name,this._link=r.link,this._id=r._id,this._likes=r.likes,this._handleCardClick=i,this._handleDeleteCard=n,this._handleLikeButton=o,this._cardSelector=t,this._userId=s,this._ownerId=r.owner._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}}({data:t,handleCardClick:v,handleLikeButton:e=>{s.isLiked()?E.dislikeCard(e).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log("Error.....: ".concat(e)))):E.likeCard(e).then((e=>{s.updateLikes(e.likes)})).catch((e=>console.log("Error.....: ".concat(e))))},handleDeleteCard:e=>{k.open(),k.setAction((()=>{k.showLoading(),E.removeCard(e).then((()=>{s.removeCard(),k.close()})).catch((e=>console.log("Error.....: ".concat(e)))).finally((()=>{k.hideLoading()}))}))}},e,p);return s.getElement()}function v(e,t){g.open(e,t)}Promise.all([E.getInitialCards(),E.getUserInfo()]).then((e=>{let[t,s]=e;p=s._id,y.render(t),m.setUserImage(s.avatar),m.setUserInfo({name:s.name,about:s.about})})).catch((e=>console.log("Error.....: ".concat(e))));const y=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){this._items=e,this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:e=>{y.addItem(b(e))}},".places"),g=new class extends _{open(e,t){this._title=this._popupElement.querySelector(".popup__image-name"),this._image=this._popupElement.querySelector(".popup__image-preview"),this._title.textContent=e,this._image.src=t,this._image.alt="Image of ".concat(e),super.open()}}(".popup_type_preview");g.setEventListeners();const f=new d(".popup_type_edit",(function(){const e=f.getInputValues(),t={name:e.name,profession:e.profession};E.updateProfile(t).then((e=>{m.setUserInfo(e),f.close()})).catch((e=>console.log("Error.....: ".concat(e)))),f.showLoading()}),"Save");f.setEventListeners();const L=new d(".popup_type_add",(function(){const e=L.getInputValues(),t={name:e.title,link:e.link};L.showLoading(),E.addCard(t).then((e=>{y.addItem(b(e)),L.close()})).catch((e=>console.log("Error.....: ".concat(e)))).finally((()=>{L.hideLoading()}))}),"Create");L.setEventListeners();const S=new d(".popup_type_avatar",(function(e){E.updateUserImage(e.link).then((e=>{m.setUserImage(e.avatar),S.close()})).catch((e=>console.log("Error.....: ".concat(e)))),S.showLoading()}),"Save");S.setEventListeners();const k=new class extends _{constructor(e){super(e),this._button=this._popupElement.querySelector(".popup__button")}setAction(e){this._handleSubmit=e}showLoading(){this._button.textContent="Deleting..."}hideLoading(){this._button.textContent="Yes"}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()})),super.setEventListeners()}}(".popup_type_confirm");k.setEventListeners();const C=new h(c,t),I=new h(c,s);C.enableValidation(),I.enableValidation(),r.addEventListener("click",(()=>{const e=m.getUserInfo();f.open(),o.value=e.name,a.value=e.profession,C.resetFormValidation()})),i.addEventListener("click",(()=>{I.resetFormValidation(),L.open()})),n.addEventListener("click",(()=>{S.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCtMLEVBQW1CLElBQUlELEVBQWN2TCxFQUFvQk4sR0FFL0Q0TCxFQUFrQkcsbUJBQ2xCRCxFQUFpQkMsbUJBSWpCOUwsRUFBUXdDLGlCQUFpQixTQUFTLEtBQzlCLE1BQU04QyxFQUFPVixFQUFTTyxjQUN0QmtHLEVBQVU1SCxPQUNWdEQsRUFBZW9FLE1BQVFlLEVBQUtoQixLQUM1QmxFLEVBQXFCbUUsTUFBUWUsRUFBS0YsV0FDbEN1RyxFQUFrQkkseUJBSXRCOUwsRUFBT3VDLGlCQUFpQixTQUFTLEtBQzdCcUosRUFBaUJFLHNCQUNqQlIsRUFBUzlILFVBR2J2RCxFQUFVc0MsaUJBQWlCLFNBQVMsS0FDaENpSixFQUFZaEksVSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvcGFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL3V0aWxzL0FwaS5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3VwV2l0aENvbmZpbWF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBwbGFjZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc1wiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxhY2UtdGVtcGxhdGVcIik7XHJcblxyXG5leHBvcnQgY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdFwiKS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGRcIikucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2Utb3ZlcmxheVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cElucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW5wdXRQcm9mZXNzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9wcm9mZXNzaW9uXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCJcclxufTsiLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWwpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFzT25seVZhbGlkSW5wdXRzID0gKCkgPT4gdGhpcy5faW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcclxuXHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgaWYgKGlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICBcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvbiA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc09ubHlWYWxpZElucHV0cygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRGb3JtVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yOyIsImNsYXNzIFBvcHVwIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NVcCA9IHRoaXMuX2hhbmRsZUVzY1VwO1xyXG4gICAgICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY1VwID0gKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UpO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjVXApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NVcCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0LCBidXR0b25UZXh0KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG5cclxuICAgICAgICB0aGlzLl9idXR0b25UZXh0ID0gYnV0dG9uVGV4dDtcclxuXHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuXHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVMb2FkaW5nKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvblRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTsiLCIvLyBORUVEIFRPIFVQREFURS8vXHJcblxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHsgY2FyZFRlbXBsYXRlLCBlZGl0Rm9ybSwgYWRkRm9ybSwgZWRpdEJ0biwgYWRkQnRuLCBhdmF0YXJCdG4sIHBvcHVwSW5wdXROYW1lLCBwb3B1cElucHV0UHJvZmVzc2lvbiwgdmFsaWRhdGlvblNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvdXBXaXRoQ29uZmltYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gICAgcHJvZmVzc2lvblNlbGVjdG9yOiBcIi5wcm9maWxlX19wcm9mZXNzaW9uXCIsXHJcbiAgICBpbWFnZVNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiXHJcbn0pO1xyXG5cclxuLy8gQVBJXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiNDM5NTQ0YjItMzI2ZS00MDAwLWJkN2QtN2Q4ZWM5M2FmNzA1XCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICB9LFxyXG59KTtcclxuXHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm8oKV0pXHJcbiAgICAudGhlbigoW2NhcmRzLCB1c2VyRGF0YV0pID0+IHtcclxuICAgICAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICAgICAgc2VjdGlvbi5yZW5kZXIoY2FyZHMpO1xyXG5cclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW1hZ2UodXNlckRhdGEuYXZhdGFyKTtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIGFib3V0OiB1c2VyRGF0YS5hYm91dCB9KTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSk7XHJcblxyXG4vLyBGdW5jdGlvbnNcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHtcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgICBoYW5kbGVMaWtlQnV0dG9uOiAoaWQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNBbHJlYWR5bGlrZWQgPSBuZXdDYXJkLmlzTGlrZWQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc0FscmVhZHlsaWtlZCkge1xyXG4gICAgICAgICAgICAgICAgYXBpLmRpc2xpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVEZWxldGVDYXJkOiAoaWQpID0+IHtcclxuICAgICAgICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcclxuICAgICAgICAgICAgY29uZmlybVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGFwaS5yZW1vdmVDYXJkKGlkKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSlcclxuICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0sIGNhcmRUZW1wbGF0ZSwgdXNlcklkKVxyXG5cclxuICAgIHJldHVybiBuZXdDYXJkLmdldEVsZW1lbnQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrIChuYW1lLCBsaW5rKSB7XHJcbiAgICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZEZvcm1TdWJtaXQoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IGFkZFBvcHVwLmdldElucHV0VmFsdWVzKCk7XHJcbiAgICBjb25zdCBkYXRhID0geyBuYW1lOiBpbnB1dFZhbHVlcy50aXRsZSwgbGluazogaW5wdXRWYWx1ZXMubGluayB9O1xyXG4gICAgYWRkUG9wdXAuc2hvd0xvYWRpbmcoKTtcclxuICAgIGFwaS5hZGRDYXJkKGRhdGEpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcclxuICAgICAgICBhZGRQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIGFkZFBvcHVwLmhpZGVMb2FkaW5nKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IGVkaXRQb3B1cC5nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgY29uc3QgZGF0YSA9IHsgbmFtZTogaW5wdXRWYWx1ZXMubmFtZSwgcHJvZmVzc2lvbjogaW5wdXRWYWx1ZXMucHJvZmVzc2lvbiB9O1xyXG4gICAgYXBpLnVwZGF0ZVByb2ZpbGUoZGF0YSkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgICAgZWRpdFBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3IuLi4uLjogJHtlcnJ9YCkpO1xyXG4gICAgZWRpdFBvcHVwLnNob3dMb2FkaW5nKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQodXNlckRhdGEpIHtcclxuICAgIGFwaS51cGRhdGVVc2VySW1hZ2UodXNlckRhdGEubGluaykudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbWFnZShyZXMuYXZhdGFyKTtcclxuICAgICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKTtcclxuICAgIGF2YXRhclBvcHVwLnNob3dMb2FkaW5nKCk7XHJcbn1cclxuXHJcbi8vIENsYXNzZXNcclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcclxuICAgIHJlbmRlcmVyOiAoY2FyZCkgPT4ge1xyXG4gICAgICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGNhcmQpKTtcclxuICAgIH1cclxufSwgXCIucGxhY2VzXCIpO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX3ByZXZpZXdcIik7XHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfZWRpdFwiLCBoYW5kbGVFZGl0Rm9ybVN1Ym1pdCwgXCJTYXZlXCIpO1xyXG5cclxuZWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYWRkXCIsIGhhbmRsZUFkZEZvcm1TdWJtaXQsIFwiQ3JlYXRlXCIpO1xyXG5cclxuYWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hdmF0YXJcIiwgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCwgXCJTYXZlXCIpO1xyXG5cclxuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXCIucG9wdXBfdHlwZV9jb25maXJtXCIpO1xyXG5cclxuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgZWRpdEZvcm0pO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBhZGRGb3JtKTtcclxuXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL0V2ZW50IExpc3RlbmVyc1xyXG5cclxuZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKClcclxuICAgIGVkaXRQb3B1cC5vcGVuKCk7XHJcbiAgICBwb3B1cElucHV0TmFtZS52YWx1ZSA9IGRhdGEubmFtZTtcclxuICAgIHBvcHVwSW5wdXRQcm9mZXNzaW9uLnZhbHVlID0gZGF0YS5wcm9mZXNzaW9uO1xyXG4gICAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRGb3JtVmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcblxyXG5hZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGFkZEZvcm1WYWxpZGF0b3IucmVzZXRGb3JtVmFsaWRhdGlvbigpO1xyXG4gICAgYWRkUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbmF2YXRhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYXZhdGFyUG9wdXAub3BlbigpO1xyXG59KSIsImNsYXNzIFVzZXJJbmZvIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgcHJvZmVzc2lvblNlbGVjdG9yLCBpbWFnZVNlbGVjdG9yIH0pIHtcclxuICAgICAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl91c2VyUHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmVzc2lvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl91c2VySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGltYWdlU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgcHJvZmVzc2lvbjogdGhpcy5fdXNlclByb2Zlc3Npb24udGV4dENvbnRlbnQgXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWVcclxuICAgICAgICB0aGlzLl91c2VyUHJvZmVzc2lvbi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXRcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW1hZ2UodXJsKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlckltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoXCIke3VybH1cIilgO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuXHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzKSA9PiB7XHJcbiAgICByZXR1cm4gZmV0Y2godXJsLCBoZWFkZXJzKVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKVxyXG4gICAgICApXHJcbiAgfTtcclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckltYWdlKGRhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGRhdGEgfSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVByb2ZpbGUoZGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgICAgICBhYm91dDogZGF0YS5wcm9mZXNzaW9uXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICBuYW1lLFxyXG4gICAgICAgICBsaW5rIFxyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkaXNsaWtlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59IiwiY2xhc3MgQ2FyZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoeyBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNhcmQsIGhhbmRsZUxpa2VCdXR0b24gfSwgY2FyZFNlbGVjdG9yLCB1c2VySWQpIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcblxyXG4gICAgICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNMaWtlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgocGVyc29uKSA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVMaWtlcyA9IChuZXdMaWtlcykgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbW92ZUNhcmQgPSAoKSA9PiB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuXHJcbiAgICBfcmVuZGVyTGlrZXMgPSAoKSA9PiB7IFxyXG4gICAgICAgIGNvbnN0IGxpa2VzQ291bnRlciA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2xpa2UtY291bnRcIik7IFxyXG4gICAgICAgIGxpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDsgXHJcbiAgICAgIFxyXG4gICAgICAgIGNvbnN0IGxpa2VzQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fYnV0dG9uXCIpXHJcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgICAgICBsaWtlc0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwicGxhY2VfX2J1dHRvbl9hY3RpdmVcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGlrZXNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcInBsYWNlX19idXR0b25fYWN0aXZlXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfSBcclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9faW1hZ2VcIilcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2J1dHRvblwiKVxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzLl9pZCkpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX190cmFzaFwiKVxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9pZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUZW1wbGF0ZSA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZFNlbGVjdG9yXHJcbiAgICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2l0ZW1cIilcclxuICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2ltYWdlXCIpXHJcbiAgICAgICAgLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLl9saW5rfSlgO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX190cmFzaFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUxpa2VzKHRoaXMuX2xpa2VzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDsiLCJjbGFzcyBTZWN0aW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoaXRlbXMpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cclxuICAgIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLW5hbWVcIik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2UtcHJldmlld1wiKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9pbWFnZS5hbHQgPSBgSW1hZ2Ugb2YgJHtuYW1lfWBcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTsiLCIvLyBORUVEIFRPIFVQREFURS8vXHJcblxyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3Rpb24oYWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gYWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dMb2FkaW5nKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlTG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlllc1wiO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aENvbmZpcm1hdGlvbjsiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FyZFRlbXBsYXRlIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiZWRpdEJ0biIsImFkZEJ0biIsImF2YXRhckJ0biIsInBvcHVwSW5wdXROYW1lIiwicG9wdXBJbnB1dFByb2Zlc3Npb24iLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImNvbnN0cnVjdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwiX2Zvcm0iLCJpZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfZXJyb3JDbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJyZW1vdmUiLCJfaW5wdXRMaXN0IiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b24iLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGFzT25seVZhbGlkSW5wdXRzIiwiZGlzYWJsZWQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9zZXRFdmVudExpc3RlbmVycyIsInBvcHVwU2VsZWN0b3IiLCJlIiwicHJldmVudERlZmF1bHQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjVXAiLCJiaW5kIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXAiLCJoYW5kbGVTdWJtaXQiLCJidXR0b25UZXh0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2J1dHRvbiIsIl9idXR0b25UZXh0IiwiX2hhbmRsZVN1Ym1pdCIsImdldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsInJlc2V0Iiwic2hvd0xvYWRpbmciLCJoaWRlTG9hZGluZyIsInVzZXJJZCIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwicHJvZmVzc2lvblNlbGVjdG9yIiwiaW1hZ2VTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyUHJvZmVzc2lvbiIsIl91c2VySW1hZ2UiLCJnZXRVc2VySW5mbyIsInByb2Zlc3Npb24iLCJzZXRVc2VySW5mbyIsImRhdGEiLCJhYm91dCIsInNldFVzZXJJbWFnZSIsInVybCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsIl9jdXN0b21GZXRjaCIsInVwZGF0ZVVzZXJJbWFnZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwidXBkYXRlUHJvZmlsZSIsImFkZENhcmQiLCJsaW5rIiwicmVtb3ZlQ2FyZCIsImNhcmRJRCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJhdXRob3JpemF0aW9uIiwiY3JlYXRlQ2FyZCIsIm5ld0NhcmQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZUJ1dHRvbiIsIm5ld0xpa2VzIiwiX2xpa2VzIiwiX3JlbmRlckxpa2VzIiwiX2NhcmRFbGVtZW50IiwibGVuZ3RoIiwibGlrZXNCdXR0b24iLCJpc0xpa2VkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9pZCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfb3duZXJJZCIsIl91c2VySWQiLCJkaXNwbGF5IiwidXBkYXRlTGlrZXMiLCJsaWtlcyIsIm93bmVyIiwic29tZSIsInBlcnNvbiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNvbmZpcm1Qb3B1cCIsInNldEFjdGlvbiIsImZpbmFsbHkiLCJnZXRFbGVtZW50IiwiaW1hZ2VQb3B1cCIsImFsbCIsImNhcmRzIiwidXNlckRhdGEiLCJzZWN0aW9uIiwicmVuZGVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsIl9pdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkIiwiX3RpdGxlIiwiX2ltYWdlIiwic3JjIiwiYWx0IiwiZWRpdFBvcHVwIiwiUG9wdXBXaXRoRm9ybSIsImFkZFBvcHVwIiwidGl0bGUiLCJhdmF0YXJQb3B1cCIsImFjdGlvbiIsImVkaXRGb3JtVmFsaWRhdG9yIiwiRm9ybVZhbGlkYXRvciIsImFkZEZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRGb3JtVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=