!function(){"use strict";document.querySelector(".places");const e=document.querySelector("#place-template"),t=document.querySelector(".popup_type_edit").querySelector(".popup__form"),s=document.querySelector(".popup_type_add").querySelector(".popup__form"),r=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),n=document.querySelector(".profile__image-overlay"),o=document.querySelector(".popup__input_type_name"),a=document.querySelector(".popup__input_type_profession"),l={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var h=class{constructor(e,t){u(this,"_showInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)})),u(this,"_hideInputError",(e=>{const t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)})),u(this,"_hasOnlyValidInputs",(()=>this._inputList.every((e=>e.validity.valid)))),u(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),u(this,"_setEventListeners",(()=>{this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector),this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),u(this,"_toggleButton",(()=>{this._hasOnlyValidInputs()?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)})),u(this,"resetFormValidation",(()=>{this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()})),u(this,"enableValidation",(()=>{this._setEventListeners()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}},_=class{constructor(e){this._popupElement=document.querySelector(e),this._handleEscUp=this._handleEscUp.bind(this),this.close=this.close.bind(this)}_handleEscUp(e){e.preventDefault(),"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",this.close),this._popupElement.addEventListener("mousedown",(e=>{[...e.target.classList].includes("popup")&&this.close()}))}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscUp)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscUp)}},p=class extends _{constructor(e,t,s){super(e),this._popupForm=this._popupElement.querySelector(".popup__form"),this._button=this._popupForm.querySelector(".popup__button"),this._inputList=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._buttonText=s,this._submitHandler=t}getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}close(){this._popupForm.reset(),super.close()}showLoading(){this._button.textContent="Saving..."}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(this.getInputValues()),this.close()})),super.setEventListeners()}};let d;const m=new class{constructor(e){let{nameSelector:t,professionSelector:s,imageSelector:r}=e;this._userName=document.querySelector(t),this._userProfession=document.querySelector(s),this._userImage=document.querySelector(r)}getUserInfo(){return{name:this._userName.textContent,profession:this._userProfession.textContent}}setUserInfo(e){this._userName.textContent=e.name,this._userProfession.textContent=e.about}setUserImage(e){this._userImage.style.backgroundImage='url("'.concat(e,'")')}}({nameSelector:".profile__name",professionSelector:".profile__profession",imageSelector:".profile__image"}),E=new class{constructor(e){let{baseUrl:t,headers:s}=e;var r,i;i=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).catch((e=>{console.log("Error: ".concat(e))})),(r="_customFetch")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,this._baseUrl=t,this._headers=s}getInitialCards(){return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}getUserInfo(){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}updateUserImage(e){return this._customFetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}updateProfile(e){return this._customFetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.profession})})}addCard(e){let{name:t,link:s}=e;return this._customFetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:s})})}removeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}likeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}dislikeCard(e){return this._customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"439544b2-326e-4000-bd7d-7d8ec93af705","Content-Type":"application/json"}});function y(t){const s=new class{constructor(e,t,s){let{data:r,handleCardClick:i,handleDeleteCard:n,handleLikeButton:o}=e;c(this,"handleLikeCard",(e=>{this._likes=e,this._cardElement.querySelector(".place__like-count").textContent=this._likes.length,this._cardElement.querySelector(".place__button").classList.toggle("place__button_active")})),c(this,"removeCard",(()=>this._cardElement.remove())),c(this,"_setEventListeners",(()=>{this._cardElement.querySelector(".place__image").addEventListener("click",(()=>this._handleCardClick(this._name,this._link))),this._cardElement.querySelector(".place__button").addEventListener("click",(()=>this._handleLikeButton(this._id))),this._cardElement.querySelector(".place__trash").addEventListener("click",(()=>this._handleDeleteCard(this._id)))})),c(this,"_getTemplate",(()=>this._cardSelector.content.querySelector(".places__item").cloneNode(!0))),c(this,"getElement",(()=>(this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".place__image").style.backgroundImage="url(".concat(this._link,")"),this._cardElement.querySelector(".place__title").textContent=this._name,this._ownerId!==this._userId&&(this._cardElement.querySelector(".place__trash").style.display="none"),this._cardElement.querySelector(".place__like-count").textContent=this._likes.length,this.isLiked()&&this.handleLikeCard(this._likes),this._cardElement))),this._name=r.name,this._link=r.link,this._id=r._id,this._likes=r.likes,this._handleCardClick=i,this._handleDeleteCard=n,this._handleLikeButton=o,this._cardSelector=t,this._userId=s,this._ownerId=r.owner._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}}({data:t,handleCardClick:b,handleLikeButton:e=>{s.isLiked()?E.dislikeCard(e).then((e=>{s.handleLikeCard(e.likes)})):E.likeCard(e).then((e=>{s.handleLikeCard(e.likes)}))},handleDeleteCard:e=>{C.open(),C.setAction((()=>{C.showLoading(),E.removeCard(e).then((()=>{s.removeCard(),C.close()}))}))}},e,d);return s.getElement()}function b(e,t){g.open(e,t)}Promise.all([E.getInitialCards(),E.getUserInfo()]).then((e=>{let[t,s]=e;d=s._id,v.render(t),m.setUserImage(s.avatar),m.setUserInfo({name:s.name,about:s.about})}));const v=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){this._items=e,this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:e=>{v.addItem(y(e))}},".places"),g=new class extends _{open(e,t){this._title=this._popupElement.querySelector(".popup__image-name"),this._image=this._popupElement.querySelector(".popup__image-preview"),this._title.textContent=e,this._image.src=t,this._image.alt="Image of ".concat(e),super.open()}}(".popup_type_preview");g.setEventListeners();const f=new p(".popup_type_edit",(function(){const e=f.getInputValues(),t={name:e.name,profession:e.profession};E.updateProfile(t).then((e=>{m.setUserInfo(e)})),f.showLoading()}),"Save");f.setEventListeners();const L=new p(".popup_type_add",(function(){const e=L.getInputValues(),t={name:e.title,link:e.link};E.addCard(t).then((e=>{y(e)})),L.showLoading()}),"Create");L.setEventListeners();const S=new p(".popup_type_avatar",(function(e){E.updateUserImage(e.link).then((e=>{m.setUserImage(e.avatar)})),S.showLoading()}),"Save");S.setEventListeners();const C=new class extends _{constructor(e){super(e),this._button=this._popupElement.querySelector(".popup__button")}setAction(e){this._submitHandler=e}showLoading(){this._button.textContent="Deleting..."}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()})),super.setEventListeners()}}(".popup_type_confirm");C.setEventListeners();const k=new h(l,t),I=new h(l,s);k.enableValidation(),I.enableValidation(),r.addEventListener("click",(()=>{const e=m.getUserInfo();f.open(),o.value=e.name,a.value=e.profession,k.resetFormValidation()})),i.addEventListener("click",(()=>{I.resetFormValidation(),L.open()})),n.addEventListener("click",(()=>{S.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RVQsTUFBTWdJLEVBQWMsSUFBSUgsRUFBYyxzQkF6QnRDLFNBQWdDbkIsR0FDNUJyRSxFQUFJbUIsZ0JBQWdCa0QsRUFBUzFDLE1BQU12QixNQUFLQyxJQUNwQ3JCLEVBQVNZLGFBQWFTLEVBQUltQixXQUU5Qm1FLEVBQVk3RyxnQkFxQm9FLFFBRXBGNkcsRUFBWWhJLG9CQUVaLE1BQU1vRyxFQUFlLElNM0hyQixjQUFvQy9GLEVBRWhDaEQsWUFBWW1DLEdBQ1JnQixNQUFNaEIsR0FDTjlCLEtBQUtnRCxRQUFVaEQsS0FBSytCLGNBQWNuRCxjQUFjLGtCQUdwRCtKLFVBQVU0QixHQUNOdkssS0FBS2tELGVBQWlCcUgsRUFHMUI5RyxjQUNJekQsS0FBS2dELFFBQVE3QyxZQUFjLGNBRy9CbUMsb0JBQ0l0QyxLQUFLK0IsY0FBY1AsaUJBQWlCLFVBQVdXLElBQzNDQSxFQUFFQyxpQkFDRnBDLEtBQUtrRCxvQkFHVEosTUFBTVIsc0JOc0dpQyx1QkFFL0NvRyxFQUFhcEcsb0JBRWIsTUFBTWtJLEVBQW9CLElBQUlDLEVBQWNwTCxFQUFvQlAsR0FDMUQ0TCxFQUFtQixJQUFJRCxFQUFjcEwsRUFBb0JOLEdBRS9EeUwsRUFBa0JHLG1CQUNsQkQsRUFBaUJDLG1CQUlqQjNMLEVBQVF3QyxpQkFBaUIsU0FBUyxLQUM5QixNQUFNNkMsRUFBT1YsRUFBU08sY0FDdEJnRyxFQUFVekgsT0FDVnRELEVBQWVvRSxNQUFRYyxFQUFLZixLQUM1QmxFLEVBQXFCbUUsTUFBUWMsRUFBS0YsV0FDbENxRyxFQUFrQkkseUJBSXRCM0wsRUFBT3VDLGlCQUFpQixTQUFTLEtBQzdCa0osRUFBaUJFLHNCQUNqQlIsRUFBUzNILFVBR2J2RCxFQUFVc0MsaUJBQWlCLFNBQVMsS0FDaEM4SSxFQUFZN0gsVSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvcGFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL2ZvdXJ0aC1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vZm91cnRoLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9mb3VydGgtcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvdXBXaXRoQ29uZmltYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHBsYWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGFjZS10ZW1wbGF0ZVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9lZGl0XCIpLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbmV4cG9ydCBjb25zdCBhZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZFwiKS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1vdmVybGF5XCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwSW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbnB1dFByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX3Byb2Zlc3Npb25cIik7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIlxyXG59OyIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG5cclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWwpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYXNPbmx5VmFsaWRJbnB1dHMgPSAoKSA9PiB0aGlzLl9pbnB1dExpc3QuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWwpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfdG9nZ2xlQnV0dG9uID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faGFzT25seVZhbGlkSW5wdXRzKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldEZvcm1WYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0RWwgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7IiwiY2xhc3MgUG9wdXAge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY1VwID0gdGhpcy5faGFuZGxlRXNjVXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NVcChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKFsuLi5lLnRhcmdldC5jbGFzc0xpc3RdLmluY2x1ZGVzKFwicG9wdXBcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NVcCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY1VwKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwOyIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRIYW5kbGVyLCBidXR0b25UZXh0KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG5cclxuICAgICAgICB0aGlzLl9idXR0b25UZXh0ID0gYnV0dG9uVGV4dDtcclxuXHJcbiAgICAgICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IHN1Ym1pdEhhbmRsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG5cclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dMb2FkaW5nKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTsiLCIvLyBORUVEIFRPIFVQREFURS8vXHJcblxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHsgY2FyZFRlbXBsYXRlLCBlZGl0Rm9ybSwgYWRkRm9ybSwgZWRpdEJ0biwgYWRkQnRuLCBhdmF0YXJCdG4sIHBvcHVwSW5wdXROYW1lLCBwb3B1cElucHV0UHJvZmVzc2lvbiwgdmFsaWRhdGlvblNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvdXBXaXRoQ29uZmltYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gICAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgICBwcm9mZXNzaW9uU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3Byb2Zlc3Npb25cIixcclxuICAgIGltYWdlU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCJcclxufSk7XHJcblxyXG4vLyBBUElcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCI0Mzk1NDRiMi0zMjZlLTQwMDAtYmQ3ZC03ZDhlYzkzYWY3MDVcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSlcclxuICAgIC50aGVuKChbY2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xyXG4gICAgICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcclxuICAgICAgICBzZWN0aW9uLnJlbmRlcihjYXJkcyk7XHJcblxyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbWFnZSh1c2VyRGF0YS5hdmF0YXIpO1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogdXNlckRhdGEubmFtZSwgYWJvdXQ6IHVzZXJEYXRhLmFib3V0IH0pO1xyXG4gICAgfSlcclxuXHJcbi8vIEZ1bmN0aW9uc1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoe1xyXG4gICAgICAgIGRhdGEsXHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgICAgIGhhbmRsZUxpa2VCdXR0b246IChpZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0FscmVhZHlsaWtlZCA9IG5ld0NhcmQuaXNMaWtlZCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzQWxyZWFkeWxpa2VkKSB7XHJcbiAgICAgICAgICAgICAgICBhcGkuZGlzbGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0NhcmQuaGFuZGxlTGlrZUNhcmQocmVzLmxpa2VzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLmhhbmRsZUxpa2VDYXJkKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVEZWxldGVDYXJkOiAoaWQpID0+IHtcclxuICAgICAgICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcclxuICAgICAgICAgICAgY29uZmlybVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGFwaS5yZW1vdmVDYXJkKGlkKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSwgY2FyZFRlbXBsYXRlLCB1c2VySWQpXHJcblxyXG4gICAgcmV0dXJuIG5ld0NhcmQuZ2V0RWxlbWVudCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sgKG5hbWUsIGxpbmspIHtcclxuICAgIGltYWdlUG9wdXAub3BlbihuYW1lLCBsaW5rKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkRm9ybVN1Ym1pdCgpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0gYWRkUG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgIGNvbnN0IGRhdGEgPSB7IG5hbWU6IGlucHV0VmFsdWVzLnRpdGxlLCBsaW5rOiBpbnB1dFZhbHVlcy5saW5rIH07XHJcbiAgICBhcGkuYWRkQ2FyZChkYXRhKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgY3JlYXRlQ2FyZChyZXMpO1xyXG4gICAgfSlcclxuICAgIGFkZFBvcHVwLnNob3dMb2FkaW5nKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSBlZGl0UG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgIGNvbnN0IGRhdGEgPSB7IG5hbWU6IGlucHV0VmFsdWVzLm5hbWUsIHByb2Zlc3Npb246IGlucHV0VmFsdWVzLnByb2Zlc3Npb24gfTtcclxuICAgIGFwaS51cGRhdGVQcm9maWxlKGRhdGEpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgfSlcclxuICAgIGVkaXRQb3B1cC5zaG93TG9hZGluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KHVzZXJEYXRhKSB7XHJcbiAgICBhcGkudXBkYXRlVXNlckltYWdlKHVzZXJEYXRhLmxpbmspLnRoZW4ocmVzID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW1hZ2UocmVzLmF2YXRhcik7XHJcbiAgICB9KVxyXG4gICAgYXZhdGFyUG9wdXAuc2hvd0xvYWRpbmcoKTtcclxufVxyXG5cclxuLy8gQ2xhc3Nlc1xyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgcmVuZGVyZXI6IChjYXJkKSA9PiB7XHJcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xyXG4gICAgfVxyXG59LCBcIi5wbGFjZXNcIik7XHJcblxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfcHJldmlld1wiKTtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9lZGl0XCIsIGhhbmRsZUVkaXRGb3JtU3VibWl0LCBcIlNhdmVcIik7XHJcblxyXG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGRcIiwgaGFuZGxlQWRkRm9ybVN1Ym1pdCwgXCJDcmVhdGVcIik7XHJcblxyXG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2F2YXRhclwiLCBoYW5kbGVBdmF0YXJGb3JtU3VibWl0LCBcIlNhdmVcIik7XHJcblxyXG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY29uZmlybVBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIi5wb3B1cF90eXBlX2NvbmZpcm1cIik7XHJcblxyXG5jb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBlZGl0Rm9ybSk7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGFkZEZvcm0pO1xyXG5cclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vRXZlbnQgTGlzdGVuZXJzXHJcblxyXG5lZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKVxyXG4gICAgZWRpdFBvcHVwLm9wZW4oKTtcclxuICAgIHBvcHVwSW5wdXROYW1lLnZhbHVlID0gZGF0YS5uYW1lO1xyXG4gICAgcG9wdXBJbnB1dFByb2Zlc3Npb24udmFsdWUgPSBkYXRhLnByb2Zlc3Npb247XHJcbiAgICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldEZvcm1WYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuXHJcbmFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYWRkRm9ybVZhbGlkYXRvci5yZXNldEZvcm1WYWxpZGF0aW9uKCk7XHJcbiAgICBhZGRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pIiwiY2xhc3MgVXNlckluZm8ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBwcm9mZXNzaW9uU2VsZWN0b3IsIGltYWdlU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJQcm9mZXNzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9mZXNzaW9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW1hZ2VTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBwcm9mZXNzaW9uOiB0aGlzLl91c2VyUHJvZmVzc2lvbi50ZXh0Q29udGVudCBcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZVxyXG4gICAgICAgIHRoaXMuX3VzZXJQcm9mZXNzaW9uLnRleHRDb250ZW50ID0gZGF0YS5hYm91dFxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbWFnZSh1cmwpIHtcclxuICAgICAgICB0aGlzLl91c2VySW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcIiR7dXJsfVwiKWA7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbzsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jdXN0b21GZXRjaCA9ICh1cmwsIGhlYWRlcnMpID0+IHtcclxuICAgIHJldHVybiBmZXRjaCh1cmwsIGhlYWRlcnMpXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApO1xyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVVc2VySW1hZ2UoZGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogZGF0YSB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZmlsZShkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgIGFib3V0OiBkYXRhLnByb2Zlc3Npb25cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgIGxpbmsgXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSUR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRpc2xpa2VDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0iLCJjbGFzcyBDYXJkIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCwgaGFuZGxlTGlrZUJ1dHRvbiB9LCBjYXJkU2VsZWN0b3IsIHVzZXJJZCkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuXHJcbiAgICAgICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIH1cclxuXHJcbiAgICBpc0xpa2VkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChwZXJzb24pID0+IHBlcnNvbi5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGhhbmRsZUxpa2VDYXJkID0gKG5ld0xpa2VzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZS1jb3VudFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19idXR0b25cIikuY2xhc3NMaXN0LnRvZ2dsZShcInBsYWNlX19idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZW1vdmVDYXJkID0gKCkgPT4gdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2ltYWdlXCIpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaykpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19idXR0b25cIilcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5faWQpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fdHJhc2hcIilcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5faWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRTZWxlY3RvclxyXG4gICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19pdGVtXCIpXHJcbiAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbGVtZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19pbWFnZVwiKVxyXG4gICAgICAgIC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7dGhpcy5fbGlua30pYDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fdHJhc2hcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZS1jb3VudFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTGlrZUNhcmQodGhpcy5fbGlrZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDsiLCJjbGFzcyBTZWN0aW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoaXRlbXMpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cclxuICAgIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLW5hbWVcIik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2UtcHJldmlld1wiKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9pbWFnZS5hbHQgPSBgSW1hZ2Ugb2YgJHtuYW1lfWBcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTsiLCIvLyBORUVEIFRPIFVQREFURS8vXHJcblxyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3Rpb24oYWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aENvbmZpcm1hdGlvbjsiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FyZFRlbXBsYXRlIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiZWRpdEJ0biIsImFkZEJ0biIsImF2YXRhckJ0biIsInBvcHVwSW5wdXROYW1lIiwicG9wdXBJbnB1dFByb2Zlc3Npb24iLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImNvbnN0cnVjdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwiX2Zvcm0iLCJpZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfZXJyb3JDbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJyZW1vdmUiLCJfaW5wdXRMaXN0IiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b24iLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGFzT25seVZhbGlkSW5wdXRzIiwiZGlzYWJsZWQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9zZXRFdmVudExpc3RlbmVycyIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY1VwIiwiYmluZCIsImNsb3NlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJpbmNsdWRlcyIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXAiLCJzdWJtaXRIYW5kbGVyIiwiYnV0dG9uVGV4dCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9idXR0b24iLCJfYnV0dG9uVGV4dCIsIl9zdWJtaXRIYW5kbGVyIiwiZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwibmFtZSIsInZhbHVlIiwicmVzZXQiLCJzaG93TG9hZGluZyIsInVzZXJJZCIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwicHJvZmVzc2lvblNlbGVjdG9yIiwiaW1hZ2VTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyUHJvZmVzc2lvbiIsIl91c2VySW1hZ2UiLCJnZXRVc2VySW5mbyIsInByb2Zlc3Npb24iLCJzZXRVc2VySW5mbyIsImRhdGEiLCJhYm91dCIsInNldFVzZXJJbWFnZSIsInVybCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsIl9jdXN0b21GZXRjaCIsInVwZGF0ZVVzZXJJbWFnZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwidXBkYXRlUHJvZmlsZSIsImFkZENhcmQiLCJsaW5rIiwicmVtb3ZlQ2FyZCIsImNhcmRJRCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJhdXRob3JpemF0aW9uIiwiY3JlYXRlQ2FyZCIsIm5ld0NhcmQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZUJ1dHRvbiIsIm5ld0xpa2VzIiwiX2xpa2VzIiwiX2NhcmRFbGVtZW50IiwibGVuZ3RoIiwidG9nZ2xlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9pZCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfb3duZXJJZCIsIl91c2VySWQiLCJkaXNwbGF5IiwiaXNMaWtlZCIsImhhbmRsZUxpa2VDYXJkIiwibGlrZXMiLCJvd25lciIsInNvbWUiLCJwZXJzb24iLCJjb25maXJtUG9wdXAiLCJzZXRBY3Rpb24iLCJnZXRFbGVtZW50IiwiaW1hZ2VQb3B1cCIsImFsbCIsImNhcmRzIiwidXNlckRhdGEiLCJzZWN0aW9uIiwicmVuZGVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsIl9pdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkIiwiX3RpdGxlIiwiX2ltYWdlIiwic3JjIiwiYWx0IiwiZWRpdFBvcHVwIiwiUG9wdXBXaXRoRm9ybSIsImFkZFBvcHVwIiwidGl0bGUiLCJhdmF0YXJQb3B1cCIsImFjdGlvbiIsImVkaXRGb3JtVmFsaWRhdG9yIiwiRm9ybVZhbGlkYXRvciIsImFkZEZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRGb3JtVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=